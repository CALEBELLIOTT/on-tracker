import{r as je,_ as v,c as g,a as x,b as u,d as T,o as l,S as ne,e as xe,f as t,g as E,t as p,h as b,p as k,i as $,j as ce,F as y,k as S,u as F,l as q,V as ie,m as N,n as K,w as U,q as j,v as w,s as Q,x as re,y as ke,z as $e,A as we,B as Z,C as Pe,D as M,E as I,G as le,H as de,I as Te,J as ue,K as Ee,L as Se}from"./vendor.3fe3d150.js";const Ie=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerpolicy&&(d.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?d.credentials="include":i.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(i){if(i.ep)return;i.ep=!0;const d=o(i);fetch(i.href,d)}};Ie();const n=je({user:{},account:{},projects:[],allBusinesses:[],activeBusiness:{},activeProject:{},projectNotes:[],activeEmployee:{},projectTasks:[],employees:[],activeBusinessProjects:[],projectCompletion:0,teamMembers:[],activeProjectTeamMembers:[],activeProjectAvailableEmployees:[],teamMemberAccount:[],accountEmployee:{},activeProjectComplete:!1});const Ae={name:"App",setup(){return{appState:g(()=>n)}}},Ce={class:"white-background"};function Me(a,e,o,s,i,d){const c=x("router-view");return l(),u("main",Ce,[T(c)])}var Le=v(Ae,[["render",Me]]);const me=window.location.origin.includes("localhost"),_e=me?"http://localhost:3000":"",De="dev-k0ett2hk.us.auth0.com",Be="duZCEjAYwATyvUJravqqcShyEj95dzss",Ne="https://DiegoDev.com";function V(a,e){if(me)console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(a){case"log":case"assert":return}console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const m={log(){V("log",arguments)},error(){V("error",arguments)},warn(){V("warn",arguments)},assert(){V("assert",arguments)},trace(){V("trace",arguments)}};class f{static async confirm(e="Are you sure?",o="You won't be able to revert this!",s="warning",i="Yes, delete it!"){try{return!!(await ne.fire({title:e,text:o,icon:s,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:i})).isConfirmed}catch{return!1}}static toast(e="Warning!",o="warning",s="top-end",i=3e3,d=!0){ne.fire({title:e,icon:o,position:s,timer:i,timerProgressBar:d,toast:!0,showConfirmButton:!1})}static error(e){var o;if(e.isAxiosError){const{response:s}=e;this.toast(((o=s.data.error)==null?void 0:o.message)||s.data.message,"error")}else this.toast(e.message||e,"error")}static success(e="Success!"){this.toast(e,"success")}}const _=xe.create({baseURL:_e,timeout:16e3});class Oe{async getAllEmployees(){const e=await _.get("api/businesses/"+n.account.businessId+"/employees");m.log(e.data),n.employees=e.data;let o=n.employees.filter(s=>s.account.id==n.account.id);n.activeEmployee=o[0],m.log("Active Employee",n.activeEmployee),m.log("[EMPLOYEES IN APPSTATE]")}async createEmployee(){let e={businessId:n.account.businessId,accountId:n.account.id,skills:"I am good at this",certifications:["emt"]};const o=await _.post("api/employees",e);n.employees.push(o.data),n.activeEmployee=o.data,console.log(o.data+"create employee")}async editEmployee(e,o){let s=await _.get("api/employees");s=s.data.filter(d=>d.account.id===o),console.log(s);const i=await _.put("api/employees/"+s[0].id,e);console.log(i.data)}async removeEmployee(e){const o=await _.delete("api/employees/"+e);console.log(o.data+"[remove employee]")}async setActiveEmployee(e){let o=n.employees.filter(s=>s.id==e);n.activeEmployee=o[0],console.log(n.employees),console.log(n.activeEmployee)}getAvailableEmployees(){let e=n.activeProjectTeamMembers,o=n.employees;e.forEach(s=>{o.forEach(i=>{i.id===s.employee.id&&(o=o.filter(d=>d.id!==i.id))})}),console.log("here!!!!"),console.log(o),n.activeProjectAvailableEmployees=o}setAccountEmployee(e){n.accountEmployee=n.employees.filter(o=>o.accountId==e)[0],console.log(n.accountEmployee)}}const O=new Oe;const Ve={setup(){return{employee:g(()=>n.activeEmployee),account:g(()=>n.account)}}},X=a=>(k("data-v-64717afe"),a=a(),$(),a),ze={key:0,class:"container"},qe={class:"row mt-3"},Ue={class:"col-12"},Re={class:"rounded p-2 my-2"},He={class:"row"},Ge={class:"col-12"},Je={class:"d-flex flex-column"},We={class:"d-flex"},Ye=["src"],Fe={class:"mx-2"},Ke={key:0,class:"text-muted fs-6"},Qe={class:""},Ze=X(()=>t("span",{class:"text-primary"},"Email: ",-1)),Xe={class:""},et=X(()=>t("span",{class:"text-primary"},"skills: ",-1)),tt={class:""},ot=X(()=>t("span",{class:"text-primary"},"Certifications: ",-1));function st(a,e,o,s,i,d){return s.employee.id?(l(),u("div",ze,[t("div",qe,[t("div",Ue,[t("div",Re,[t("div",He,[t("div",Ge,[t("div",Je,[t("div",We,[t("img",{class:"profile-img",src:s.employee.account.picture,alt:""},null,8,Ye),t("div",Fe,[t("h3",null,[E(p(s.employee.account.name),1),s.employee.account.businessAccount?(l(),u("span",Ke," (admin)")):b("",!0)]),t("p",Qe,[Ze,E(" "+p(s.employee.account.email),1)]),t("p",Xe,[et,E(" "+p(s.employee.skills),1)]),t("p",tt,[ot,E(" "+p(s.employee.certifications.toString()),1)])])])])])])])])])])):b("",!0)}var at=v(Ve,[["render",st],["__scopeId","data-v-64717afe"]]),nt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:at});class ct{async getNotes(e){const o=await _.get(`api/projects/${e}/notes`);m.log("getting notes",o.data),n.projectNotes=o.data}async createNote(e){const o=await _.post("api/notes/",e);m.log(o.data),n.projectNotes.push(o.data)}async editNote(e,o){const s=await _.put(`api/notes/${e}`,{body:o});m.log(s.data)}async deleteNote(e){const o=await _.delete("api/notes/"+e);m.log("deleting note",o.data),n.projectNotes=n.projectNotes.filter(s=>s.id!=e)}}const pe=new ct;const it={components:{VueHorizontal:ce},props:{project:{type:Object,required:!0}},setup(){return{project:g(()=>n.activeProject),tasks:g(()=>n.projectTasks),notes:g(()=>n.projectNotes),business:g(()=>n.activeBusiness)}}},z=a=>(k("data-v-33c747ce"),a=a(),$(),a),rt={class:"d-none d-md-block col-md-12 mb-5 my-5"},lt={class:"d-flex align-items-center justify-content-center"},dt={class:"text-center text-md-start me-2 my-0"},ut=z(()=>t("span",{class:"text-primary"},"OnTracker",-1)),mt=z(()=>t("span",{class:"sup"},"\xAE",-1)),_t=["src"],pt=z(()=>t("div",{class:"divider-line"},null,-1)),gt={key:0,class:"row justify-content-center mt-5"},vt=z(()=>t("div",{class:"col-md-10 text-center text-danger"},[t("h1",{class:"mb-0"},"This Project is cancelled")],-1)),ft=[vt],bt={key:1,class:"row justify-content-center mt-5"},ht=z(()=>t("div",{class:"col-md-10 text-center text-primary"},[t("h1",{class:"mb-0"},"This Project is completed")],-1)),yt=[ht],jt={class:"row px-5 pt-4 pb-3"},xt={class:"col-12 elevation-5"},kt={class:"row"},$t={class:"col-md-12 bg-white p-3 border-bottom border-2 border-primary"},wt={class:"text-center text-primary"},Pt={class:"text-center text-muted"},Tt={class:"d-flex justify-content-end"},Et={class:"row border-bottom border-primary border-2"};function St(a,e,o,s,i,d){const c=x("TaskOffCanvas"),r=x("ProjectImage");return l(),u(y,null,[t("div",rt,[t("div",lt,[t("h1",dt,[ut,E(" for "+p(s.business.name),1),mt]),t("img",{src:s.business.logo,class:"img-fluid business-logo",alt:""},null,8,_t)]),pt,s.project.cancelled?(l(),u("div",gt,ft)):b("",!0),s.project.completed?(l(),u("div",bt,yt)):b("",!0)]),t("div",jt,[t("div",xt,[t("div",kt,[t("div",$t,[t("h2",wt,p(s.project.projectName),1),t("div",Pt,p(s.project.description),1)]),t("span",Tt,[T(c)])]),t("div",Et,[T(r)])])])],64)}var It=v(it,[["render",St],["__scopeId","data-v-33c747ce"]]),At=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:It});const Ct={setup(){return{project:g(()=>n.activeProject)}}},Mt={class:"text-center mb-3"},Lt=["src"];function Dt(a,e,o,s,i,d){const c=x("ProjectProgressBar");return l(),u(y,null,[t("div",Mt,[t("h2",null,p(s.project.projectName),1)]),t("div",null,[T(c)]),(l(!0),u(y,null,S(s.project.jobSiteImgs,r=>(l(),u("div",{class:"col-10 mx-auto mt-2 align-item-center",key:r},[t("img",{class:"img-fluid rounded",src:r,alt:""},null,8,Lt)]))),128))],64)}var Bt=v(Ct,[["render",Dt]]),Nt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bt});class Ot{async createTeamMember(e){console.log(n.teamMembers);let o=n.teamMembers.filter(s=>s.employeeId==e.employeeId&&s.projectId==e.projectId);if(console.log(o),o.length===0){const s=await _.post("api/teammembers",e);m.log(s.data,"[TEAMMEMBERS IN AppState]"),n.teamMembers.push(s.data),n.activeProjectTeamMembers.push(s.data),n.activeProjectAvailableEmployees=n.activeProjectAvailableEmployees.filter(i=>i.id!==s.data.employee.id),s.data.employee.account.id==n.account.id&&n.teamMemberAccount.push(s.data);return}f.toast("Already Assigned to Project")}async getBusinessTeamMembers(){const e=await _.get("api/teammembers");console.log(e.data);let o=e.data.filter(s=>{var i;return((i=s.employee)==null?void 0:i.businessId)===n.account.businessId});console.log(o),n.teamMembers=o,n.teamMemberAccount=e.data.filter(s=>s.employeeId==n.accountEmployee.id),console.log(n.teamMemberAccount)}async getProjectTeamMembers(e){const o=await _.get("api/projects/"+e+"/teamMembers");console.log(o.data),n.activeProjectTeamMembers=o.data}async getEmployeesTeamMembers(e){const o=await _.get("api/employees/"+e+"/teammembers");console.log(o.data),n.teamMemberAccount=o.data}}const R=new Ot;const Vt={props:{employee:{type:Object,required:!0}},setup(a){const e=F();return{route:e,activeProject:g(()=>n.activeProject),async createTeamMember(){try{let o={employeeId:a.employee.id,projectId:e.params.id};await R.createTeamMember(o)}catch(o){f.toast(o.message),m.log(o)}}}}},zt=a=>(k("data-v-6798dd36"),a=a(),$(),a),qt={class:"col-12 elevated border rounded d-flex justify-content-around p-2"},Ut=zt(()=>t("span",null,[t("img",{class:"small-profile-img",src:"https://th.bing.com/th/id/R.3223efb84d9394750bcb90dadfefc5b2?rik=zhNwcP5qVVgiFQ&pid=ImgRaw&r=0",alt:""})],-1)),Rt={class:"d-flex align-items-center mt-2"},Ht={class:"text-white"};function Gt(a,e,o,s,i,d){return l(),u("div",qt,[Ut,t("span",Rt,[t("h2",Ht,[t("b",null,[t("em",null,p(o.employee.account.name),1)])])]),t("span",null,[t("button",{class:"btn btn-primary mt-2 text-center",onClick:e[0]||(e[0]=(...c)=>s.createTeamMember&&s.createTeamMember(...c))}," Assign ")])])}var Jt=v(Vt,[["render",Gt],["__scopeId","data-v-6798dd36"]]),Wt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jt});const Yt={setup(){return{employees:g(()=>n.activeProjectAvailableEmployees)}}},Ft=a=>(k("data-v-2ebc8061"),a=a(),$(),a),Kt={class:"offcanvas offcanvas-end bg",tabindex:"-1",id:"availableEmployees","aria-labelledby":"offcanvasRightLabel"},Qt=Ft(()=>t("div",{class:"offcanvas-header border-bottom border-white text-white"},[t("h5",{class:"offcanvas-title",id:"offcanvasRightLabel"}," Available Employees "),t("button",{type:"button",class:"btn text-white","data-bs-dismiss":"offcanvas","aria-label":"Close"},[t("i",{class:"mdi mdi-close fs-5"})])],-1)),Zt={class:"offcanvas-body"};function Xt(a,e,o,s,i,d){const c=x("AvailableEmployees");return l(),u("div",Kt,[Qt,t("div",Zt,[(l(!0),u(y,null,S(s.employees,r=>(l(),q(c,{key:r.id,employee:r},null,8,["employee"]))),128))])])}var eo=v(Yt,[["render",Xt],["__scopeId","data-v-2ebc8061"]]),to=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eo});class oo{async getAllProjects(){const e=await _.get("api/projects");m.log(e.data),n.projects=e.data,m.log("[PROJECTS IN APPSTATE]")}async getProjectById(e){const o=await _.get("api/projects/"+e);return m.log(o.data),n.activeProject=o.data,o.data}async createProject(e){e.businessId=n.account.businessId,e.creatorId=n.account.id;const o=await _.post("api/projects",e);return console.log(o.data),n.projects.unshift(o.data),n.activeBusinessProjects.unshift(o.data),o.data}async editProject(e,o){const s=await _.put("api/projects/"+e,o);m.log(s.data)}async completeProject(e){const o=await _.put("api/projects/"+e+"/complete");m.log(o.data)}async cancelProject(e){const o=await _.put("api/projects/"+e+"/cancel");m.log(o.data)}async deleteProject(e){const o=await _.delete("api/projects/"+e);m.log(o.data),n.activeBusinessProjects=n.activeBusinessProjects.filter(s=>s.id!=e),n.projects=n.projects.filter(s=>s.id!=e)}async getBusinessProjects(e){const o=await _.get("api/businesses/"+e+"/projects");console.log(o.data),n.activeBusinessProjects=o.data}}const H=new oo,so={components:{VueGoogleAutocomplete:ie},setup(){let a=N({}),e={};const o=K();return{router:o,projectData:a,async createProject(){a.value.location=e;try{const s=await H.createProject(a.value);o.push({to:"Project",params:{id:s.id}})}catch(s){f.toast(s.message),m.log(s)}},getAddressData(s){e=s,console.log(e)}}}},ao=t("h6",{class:"d-flex align-items-center text-primary mx-4 nav nav-custom selectable","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," + New Project ",-1),no={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},co={class:"modal-dialog modal-lg"},io={class:"modal-content bg-dark"},ro={class:"modal-body"},lo={class:"container"},uo=t("div",{class:"row"},[t("div",{class:"col-12"},[t("h3",null,"Create A New Project With OnTracker")])],-1),mo={class:"row"},_o={class:"col-md-6 p-2"},po=t("label",{for:""},"Project Name",-1),go={class:"col-md-6 p-2"},vo=t("label",{for:""},"Project Cover Image",-1),fo={class:"col-md-6 p-2"},bo=t("label",{for:""},"Project Location",-1),ho={class:"col-md-6 p-2"},yo=t("label",{for:""},"Jobsite Images",-1),jo={class:"col-md-6 p-2"},xo=t("label",{for:""},"Quoted Price",-1),ko={class:"col-md-6 p-2"},$o=t("label",{for:""},"Due Date",-1),wo={class:"col-12 p-2"},Po=t("label",{for:""},"Project Description",-1),To=t("div",{class:"col-12 d-flex justify-content-between"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close "),t("button",{type:"submit",class:"btn btn-success","data-bs-dismiss":"modal"}," Submit ")],-1);function Eo(a,e,o,s,i,d){const c=x("vue-google-autocomplete");return l(),u(y,null,[ao,t("div",no,[t("div",co,[t("div",io,[t("div",ro,[t("div",lo,[uo,t("form",{onSubmit:e[6]||(e[6]=U((...r)=>s.createProject&&s.createProject(...r),["prevent"]))},[t("div",mo,[t("div",_o,[po,j(t("input",{required:"",type:"text",class:"form-control",placeholder:"Name...","onUpdate:modelValue":e[0]||(e[0]=r=>s.projectData.projectName=r)},null,512),[[w,s.projectData.projectName]])]),t("div",go,[vo,j(t("input",{required:"",type:"text",class:"form-control",placeholder:"Url...","onUpdate:modelValue":e[1]||(e[1]=r=>s.projectData.coverImg=r)},null,512),[[w,s.projectData.coverImg]])]),t("div",fo,[bo,T(c,{id:"map",classname:"form-control",placeholder:"Project Address",onPlacechanged:s.getAddressData},null,8,["onPlacechanged"])]),t("div",ho,[yo,j(t("input",{required:"",type:"text",class:"form-control",placeholder:"Urls...","onUpdate:modelValue":e[2]||(e[2]=r=>s.projectData.jobSiteImgs=r)},null,512),[[w,s.projectData.jobSiteImgs]])]),t("div",jo,[xo,j(t("input",{required:"",type:"number",min:"1",placeholder:"1",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=r=>s.projectData.quotePrice=r)},null,512),[[w,s.projectData.quotePrice]])]),t("div",ko,[$o,j(t("input",{required:"",type:"date",placeholder:"",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=r=>s.projectData.dueDate=r)},null,512),[[w,s.projectData.dueDate]])]),t("div",wo,[Po,j(t("textarea",{required:"",name:"",id:"",cols:"30",rows:"5",placeholder:"Description...",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=r=>s.projectData.description=r)},null,512),[[w,s.projectData.description]])]),To])],32)])])])])])],64)}var So=v(so,[["render",Eo]]),Io=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:So});const Ao={components:{VueGoogleAutocomplete:ie},setup(){let a=N({jobSiteImgs:[]}),e=N(""),o={};const s=F();return Q(()=>{a.value=n.activeProject}),{projectData:a,jobImg:e,route:s,async editProject(){try{o.length>=1&&(a.value.location=o),a.value.location=n.activeProject.location,await H.editProject(s.params.id,a.value)}catch(i){m.log(i),f.toast(i.message,"error")}},getAddressData(i){o=i,console.log(i)},addImg(){a.value.jobSiteImgs.push(e.value),e.value=""}}}},L=a=>(k("data-v-c49ad564"),a=a(),$(),a),Co={class:"col-md-12 p-5"},Mo={class:"row bg-white m-4 p-4 elevation-3"},Lo={class:"col-md-12"},Do={class:"row d-flex justify-content-around"},Bo={class:"col-md-6 p-3"},No=L(()=>t("label",{for:""},"Project Name",-1)),Oo={class:"col-md-6 p-3"},Vo=L(()=>t("label",{for:""},"Project Cover Image",-1)),zo={class:"col-md-6 p-3"},qo=L(()=>t("label",{for:""},"Project Location",-1)),Uo={class:"col-md-6 p-3"},Ro=L(()=>t("label",{for:""},"Job Site Images",-1)),Ho={class:"input-group"},Go={class:"col-md-6 p-3"},Jo=L(()=>t("label",{for:""},"Quoted Price",-1)),Wo={class:"col-md-6 p-3"},Yo=L(()=>t("label",{for:""},"Due Date",-1)),Fo={class:"col-md-12 p-3"},Ko=L(()=>t("div",null,[t("button",{class:"btn btn-success",type:"submit"},"Update")],-1));function Qo(a,e,o,s,i,d){const c=x("vue-google-autocomplete");return l(),u("div",Co,[t("div",Mo,[t("div",Lo,[t("form",{onSubmit:e[7]||(e[7]=U((...r)=>s.editProject&&s.editProject(...r),["prevent"]))},[t("div",Do,[t("div",Bo,[No,j(t("input",{type:"text",class:"form-control",placeholder:"Name...","onUpdate:modelValue":e[0]||(e[0]=r=>s.projectData.projectName=r)},null,512),[[w,s.projectData.projectName]])]),t("div",Oo,[Vo,j(t("input",{type:"text",class:"form-control",placeholder:"Url...","onUpdate:modelValue":e[1]||(e[1]=r=>s.projectData.coverImg=r)},null,512),[[w,s.projectData.coverImg]])]),t("div",zo,[qo,T(c,{id:"project",class:"form-control",placeholder:"Project Address",onPlacechanged:s.getAddressData},null,8,["onPlacechanged"])]),t("div",Uo,[Ro,t("div",Ho,[j(t("input",{type:"text",class:"form-control",placeholder:"Url...","onUpdate:modelValue":e[2]||(e[2]=r=>s.jobImg=r)},null,512),[[w,s.jobImg]]),t("button",{onClick:e[3]||(e[3]=(...r)=>s.addImg&&s.addImg(...r)),class:"btn btn-dark"},"+")])]),t("div",Go,[Jo,j(t("input",{type:"number",class:"form-control",placeholder:"Url...","onUpdate:modelValue":e[4]||(e[4]=r=>s.projectData.quotePrice=r)},null,512),[[w,s.projectData.quotePrice]])]),t("div",Wo,[Yo,j(t("input",{type:"date",class:"form-control border border-primary","onUpdate:modelValue":e[5]||(e[5]=r=>s.projectData.dueDate=r)},null,512),[[w,s.projectData.dueDate]])]),t("div",Fo,[j(t("textarea",{placeholder:"Description",class:"form-control",name:"",id:"",cols:"147",rows:"5","onUpdate:modelValue":e[6]||(e[6]=r=>s.projectData.description=r)},null,512),[[w,s.projectData.description]])]),Ko])],32)])])])}var Zo=v(Ao,[["render",Qo],["__scopeId","data-v-c49ad564"]]),Xo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zo});class es{async getAllBusinesses(){const e=await _.get("api/businesses");console.log(e.data),n.allBusinesses=e.data}async setActiveBusiness(e){const o=await _.get("api/businesses/"+e);console.log("SET ACTIVE BUSINESS"),console.log(o.data),n.activeBusiness=o.data}async createBusiness(e){if(!n.account.businessId){let o=await _.post("api/businesses",e);console.log(o.data),n.allBusinesses.push(o.data),await G.setBusinessId(o.data.id);return}f.toast("you already belong to a business","error")}async editBusiness(e){const o=await _.put("api/businesses/"+n.activeBusiness.id,e);m.log(o.data)}}const ee=new es;class ts{async getAccount(){try{const e=await _.get("/account");n.account=e.data}catch(e){m.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async setBusinessId(e){if(!n.account.businessId){await _.put("account/"+n.account.id,{businessId:e});const o=await _.get("api/businesses/"+e);n.account.businessId=e,await ee.setActiveBusiness(n.account.businessId),await O.getAllEmployees(),o.data.creator.id==n.account.id&&(await _.put("account/"+n.account.id,{businessAccount:!0,businessId:e}),n.account.businessAccount=!0),n.account.businessId=e;return}f.toast("you already belong to a business [set business id]","warning")}async removeBusinessId(e){const o=await _.put("/account/"+e,{businessId:void 0});console.log("remove business ID"),console.log(o.data)}async editAccountInfo(e){e.businessAccount=n.account.businessAccount;const o=await _.put("account/"+n.account.id,e);console.log(o.data)}}const G=new ts;const os={props:{employee:{type:Object,required:!0}},setup(a){return{account:g(()=>n.account),async fireEmployee(){await O.removeEmployee(a.employee.id),await G.removeBusinessId(a.employee.account.id)},async quitJob(){await O.removeEmployee(a.employee.id),await G.removeBusinessId(n.account.id)},async setActiveEmployee(){await O.setActiveEmployee(a.employee.id)}}}},ss={class:"container"},as={class:"row"},ns={class:"col-12"},cs={class:"p-2 employees-container"},is={class:"d-flex align-items-center card-utility employee-card"},rs=["src"],ls={class:"d-flex flex-column mx-2 card-utility"},ds={key:0,class:"text-muted fs-6"},us={class:"text-muted"};function ms(a,e,o,s,i,d){return l(),u("div",ss,[t("div",as,[t("div",ns,[t("div",cs,[t("div",is,[t("img",{class:"profile-img",src:o.employee.account.picture,alt:"",onClick:e[0]||(e[0]=c=>s.setActiveEmployee())},null,8,rs),t("div",ls,[t("h4",{class:"text-primary m-0",onClick:e[1]||(e[1]=c=>s.setActiveEmployee())},[E(p(o.employee.account.name),1),o.employee.account.businessAccount?(l(),u("span",ds," (admin)")):b("",!0)]),t("p",us,p(o.employee.account.email),1)])])])])])])}var _s=v(os,[["render",ms],["__scopeId","data-v-688f1159"]]),ps=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_s});const gs={setup(){const a=N({});return{employeeData:a,async createTeamMember(){try{console.log(a.value),await R.createTeamMember(a.value)}catch(e){f.toast(e.message),m.log(e)}},employees:g(()=>n.employees),projects:g(()=>n.activeBusinessProjects)}}},J=a=>(k("data-v-69a35c65"),a=a(),$(),a),vs={class:"modal fade",id:"teamMemberModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},fs={class:"modal-dialog"},bs={class:"modal-content"},hs=J(()=>t("div",{class:"modal-header"},[t("h5",{class:"m-0"}," Assign an Employee to a Project"),t("button",{title:"Close",type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),ys={class:"modal-body"},js={class:"col-md-12"},xs=J(()=>t("b",{class:"ms-1"}," Employee : ",-1)),ks=["value"],$s={class:"col-md-12"},ws=J(()=>t("b",{class:"ms-1"},"Project : ",-1)),Ps=["value"],Ts=J(()=>t("div",{class:"modal-footer d-flex align-items-end"},[t("button",{type:"submit",class:"btn btn-primary form-control"},"Assign")],-1));function Es(a,e,o,s,i,d){return l(),u("div",vs,[t("div",fs,[t("div",bs,[hs,t("form",{onSubmit:e[2]||(e[2]=U((...c)=>s.createTeamMember&&s.createTeamMember(...c),["prevent"])),class:"d-flex justify-content-around"},[t("div",ys,[t("div",js,[xs,j(t("select",{name:"employee",id:"employee","onUpdate:modelValue":e[0]||(e[0]=c=>s.employeeData.employeeId=c)},[(l(!0),u(y,null,S(s.employees,c=>(l(),u("option",{value:c.id,class:"",key:c.id},p(c.account.name),9,ks))),128))],512),[[re,s.employeeData.employeeId]])]),t("div",$s,[ws,j(t("select",{name:"project",id:"project",class:"mt-3","onUpdate:modelValue":e[1]||(e[1]=c=>s.employeeData.projectId=c)},[(l(!0),u(y,null,S(s.projects,c=>(l(),u("option",{value:c.id,class:"d",key:c.id},p(c.projectName),9,Ps))),128))],512),[[re,s.employeeData.projectId]])])]),Ts],32)])])])}var Ss=v(gs,[["render",Es],["__scopeId","data-v-69a35c65"]]),Is=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ss});const As={};var Cs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:As});const Ms="modulepreload",ge={},Ls="/",A=function(e,o){return!o||o.length===0?e():Promise.all(o.map(s=>{if(s=`${Ls}${s}`,s in ge)return;ge[s]=!0;const i=s.endsWith(".css"),d=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${d}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":Ms,i||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),i)return new Promise((r,h)=>{c.addEventListener("load",r),c.addEventListener("error",h)})})).then(()=>e())};function Ds(a){switch(a){case"./pages/AccountPage.vue":return A(()=>import("./AccountPage.45bd439a.js"),["assets/AccountPage.45bd439a.js","assets/AccountPage.07693535.css","assets/vendor.3fe3d150.js"]);case"./pages/BusinessLoginPage.vue":return A(()=>import("./BusinessLoginPage.c22d316b.js"),["assets/BusinessLoginPage.c22d316b.js","assets/BusinessLoginPage.d299141d.css","assets/vendor.3fe3d150.js"]);case"./pages/ClientViewPage.vue":return A(()=>import("./ClientViewPage.bcd650bb.js"),["assets/ClientViewPage.bcd650bb.js","assets/ClientViewPage.1e0fcb43.css","assets/vendor.3fe3d150.js"]);case"./pages/CreateProjectPage.vue":return A(()=>import("./CreateProjectPage.01c47528.js"),["assets/CreateProjectPage.01c47528.js","assets/CreateProjectPage.14d03acc.css","assets/vendor.3fe3d150.js"]);case"./pages/EmployeeLoginPage.vue":return A(()=>import("./EmployeeLoginPage.55363324.js"),["assets/EmployeeLoginPage.55363324.js","assets/EmployeeLoginPage.1c29edd9.css","assets/vendor.3fe3d150.js"]);case"./pages/EmployeesPage.vue":return A(()=>import("./EmployeesPage.54a0341c.js"),["assets/EmployeesPage.54a0341c.js","assets/vendor.3fe3d150.js"]);case"./pages/FirstTimeLoginPage.vue":return A(()=>import("./FirstTimeLoginPage.7f2d9c8f.js"),["assets/FirstTimeLoginPage.7f2d9c8f.js","assets/FirstTimeLoginPage.b06c6597.css","assets/vendor.3fe3d150.js"]);case"./pages/HomePage.vue":return A(()=>import("./HomePage.fc65065e.js"),["assets/HomePage.fc65065e.js","assets/HomePage.23bb7648.css","assets/vendor.3fe3d150.js"]);case"./pages/ProjectDetailsPage.vue":return A(()=>import("./ProjectDetailsPage.4e9ec446.js"),["assets/ProjectDetailsPage.4e9ec446.js","assets/ProjectDetailsPage.7f88505e.css","assets/vendor.3fe3d150.js"]);default:return new Promise(function(e,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+a)))})}}function C(a){return()=>Ds(`./pages/${a}.vue`)}const Bs=[{path:"/",name:"Home",component:C("HomePage"),beforeEnter:we},{path:"/project/:id",name:"Project",component:C("ProjectDetailsPage")},{path:"/employeeLogin",name:"EmployeeLogin",component:C("EmployeeLoginPage")},{path:"/employeePage",name:"EmployeesPage",component:C("EmployeesPage"),beforeEnter:Z},{path:"/businessLogin",name:"BusinessLogin",component:C("BusinessLoginPage")},{path:"/firstTimeLogin",name:"FirstTimeLogin",component:C("FirstTimeLoginPage")},{path:"/account",name:"Account",component:C("AccountPage"),beforeEnter:Z},{path:"/createProject",name:"CreateProject",component:C("CreateProjectPage"),beforeEnter:Z},{path:"/clientView/:id",name:"ClientView",component:C("ClientViewPage")}],te=ke({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:$e(),routes:Bs}),Ns={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class Os{constructor(e=!1,o=_e){}on(e,o){var s;return(s=this.socket)==null||s.on(e,o.bind(this)),this}onConnected(e){m.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){m.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var o;(o=this.socket)==null||o.emit(Ns.authenticate,e)}onError(e){m.error("[SOCKET_ERROR]",e)}enqueue(e,o){m.log("[ENQUEING_ACTION]",{action:e,payload:o}),this.queue.push({action:e,payload:o})}playback(){m.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(o=>{this.emit(o.action,o.payload)})}emit(e,o=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,o);if(!this.connected)return this.enqueue(e,o);this.socket.emit(e,o)}}class Vs extends Os{constructor(){super();this.on("error",this.onError)}onError(e){f.toast(e.message,"error")}}const ve=new Vs,P=Pe({domain:De,clientId:Be,audience:Ne,useRefreshTokens:!0,onRedirectCallback:a=>{te.push(a&&a.targetUrl?a.targetUrl:window.location.pathname)}});P.on(P.AUTH_EVENTS.AUTHENTICATED,async function(){_.defaults.headers.authorization=P.bearer,_.interceptors.request.use(zs),n.user=P.user,await G.getAccount(),ve.authenticate(P.bearer),n.account.businessId?(await ee.setActiveBusiness(n.account.businessId),await O.getAllEmployees(),await H.getBusinessProjects(n.account.businessId),await O.setAccountEmployee(n.account.id),await R.getBusinessTeamMembers(),await R.getEmployeesTeamMembers(n.accountEmployee.id)):te.push({name:"FirstTimeLogin"})});async function zs(a){if(!P.isAuthenticated)return a;const e=P.identity.exp*1e3,o=e<Date.now(),s=e<Date.now()+1e3*60*60*12;return o?await P.loginWithPopup():s&&(await P.getTokenSilently(),_.defaults.headers.authorization=P.bearer,ve.authenticate(P.bearer)),a}const qs={setup(){return{user:g(()=>n.user),account:g(()=>n.account),async login(){P.loginWithPopup()},async logout(){P.logout({returnTo:window.location.origin})}}}},fe=a=>(k("data-v-67924d29"),a=a(),$(),a),Us={class:"d-flex align-items-center"},Rs={key:1,class:"dropdown my-3 my-lg-0"},Hs={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},Gs={key:0,class:"d-flex justify-content-center"},Js=["src"],Ws={class:"dropdown-menu p-0 list-group me-4","aria-labelledby":"authDropdown"},Ys=fe(()=>t("div",{class:"list-group-item list-group-item-action hoverable"}," Manage Account ",-1)),Fs=fe(()=>t("i",{class:"mdi mdi-logout"},null,-1)),Ks=E(" logout "),Qs=[Fs,Ks],Zs={class:"text-center"},Xs={class:"name"};function ea(a,e,o,s,i,d){const c=x("router-link");return l(),u("span",Us,[s.user.isAuthenticated?(l(),u("div",Rs,[t("div",Hs,[s.account.picture?(l(),u("div",Gs,[t("img",{src:s.account.picture,alt:"account photo",height:"50",class:"rounded"},null,8,Js)])):b("",!0)]),t("div",Ws,[T(c,{to:{name:"Account"}},{default:M(()=>[Ys]),_:1}),t("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...r)=>s.logout&&s.logout(...r))},Qs),t("div",Zs,[t("span",Xs,[t("b",null,p(s.account.name),1)])])])])):(l(),u("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...r)=>s.login&&s.login(...r))}," Login "))])}var ta=v(qs,[["render",ea],["__scopeId","data-v-67924d29"]]),oa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ta}),sa="/assets/PinLogo.1784b13d.png";const aa={name:"BaseMap",data(){return{pin:sa,accessToken:"pk.eyJ1Ijoic2tld2VyNDkwIiwiYSI6ImNsNHhhZnp3bTBjNWIzYnBwMGVnd2Frc28ifQ.HLbBCBYU_1Piw91ExBGBjA",navigateToProjectPage(a){console.log(a)}}},setup(){},mounted(){I.accessToken=this.accessToken;let a={maxLongitude:0,maxLatitude:0,minLongitude:0,minLatitude:0},e=new I.Map({container:"mapContainer",style:"mapbox://styles/mapbox/outdoors-v11",center:[-116.215019,43.618881],zoom:13});Q(()=>{console.log(n.activeBusinessProjects),console.log(n.activeBusiness),s(),o()});async function o(){if(console.log(n.activeBusinessProjects),n.account.businessAccount){n.activeBusinessProjects.forEach(c=>{const r=document.createElement("div");r.className="marker",r.style.backgroundImage="https://thiscatdoesnotexist.com/",r.style.width="30px",r.style.height="40px",r.style.backgroundSize="100%";let h=[c.location.longitude,c.location.latitude];(c.location.longitude>a.maxLongitude||a.maxLongitude==0)&&(a.maxLongitude=c.location.longitude),(c.location.longitude<a.minLongitude||a.minLongitude==0)&&(a.minLongitude=c.location.longitude),(c.location.latitude>a.maxLatitude||a.maxLatitude==0)&&(a.maxLatitude=c.location.latitude),(c.location.latitude<a.minLatitude||a.minLatitude==0)&&(a.minLatitude=c.location.latitude),console.log(h),new I.Marker(r).setLngLat(h).setPopup(new I.Popup({offset:25}).setHTML(`<div class="text-start"><h4 class='text-primary text-start py-0'>${c.projectName}</h4><p class='text-muted text-start py-0'>${c.description}</p><form action="http://localhost:8080/#/project/${c.id}">
                  <button type="submit" class="btn btn-outline-primary py-0"/>See Project Details</button></form></div>`)).addTo(e);const B=[[a.minLongitude,a.minLatitude],[a.maxLongitude,a.maxLatitude]];e.fitBounds(B,{padding:100})});let d=document.getElementsByClassName("marker");console.log(d)}else{n.teamMemberAccount.forEach(c=>{const r=document.createElement("div");r.className="marker",r.style.backgroundImage="https://thiscatdoesnotexist.com/",r.style.width="30px",r.style.height="40px",r.style.backgroundSize="100%";let h=[c.project.location.longitude,c.project.location.latitude];(c.project.location.longitude>a.maxLongitude||a.maxLongitude==0)&&(a.maxLongitude=c.project.location.longitude),(c.project.location.longitude<a.minLongitude||a.minLongitude==0)&&(a.minLongitude=c.project.location.longitude),(c.project.location.latitude>a.maxLatitude||a.maxLatitude==0)&&(a.maxLatitude=c.project.location.latitude),(c.project.location.latitude<a.minLatitude||a.minLatitude==0)&&(a.minLatitude=c.project.location.latitude),console.log(h),new I.Marker(r).setLngLat(h).setPopup(new I.Popup({offset:25}).setHTML(`<div class="text-start"><h4 class='text-primary text-start py-0'>${c.projectName}</h4><p class='text-muted text-start py-0'>${c.description}</p><form action="http://localhost:8080/#/project/${c.id}">
                  <button type="submit" class="btn btn-outline-primary py-0"/>See Project Details</button></form></div>`)).addTo(e);const B=[[a.minLongitude,a.minLatitude],[a.maxLongitude,a.maxLatitude]];e.fitBounds(B,{padding:100})});let d=document.getElementsByClassName("marker");console.log(d)}}async function s(){var B,ae;let d=n.activeBusiness;const c=document.createElement("div");c.className="businessMarker",c.style.backgroundImage=`url('${d.logo}')`,c.style.borderRadius="50%",c.style.width="60px",c.style.height="60px",c.style.backgroundSize="100%";let r=[(B=d.address)==null?void 0:B.longitude,(ae=d.address)==null?void 0:ae.latitude];console.log(r),new I.Marker(c).setLngLat(r).setPopup(new I.Popup({offset:25}).setHTML(`<h2 class='text-primary text-start'>${d.name}</h2>`)).addTo(e),a.maxLatitude=d.address.latitude,a.minLatitude=d.address.latitude,a.minLongitude=d.address.longitude,a.maxLongitude=d.address.longitude,console.log(r);let h=document.getElementsByClassName("businessMarker");console.log(h)}const i=new I.NavigationControl;e.addControl(i,"top-right")}},na={id:"mapContainer",class:"basemap"};function ca(a,e,o,s,i,d){return l(),u("div",na)}var ia=v(aa,[["render",ca],["__scopeId","data-v-d6630be0"]]),ra=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ia});const la={setup(){return{}}},da={class:"modal fade half-black",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},ua={class:"modal-dialog",role:"document"},ma={class:"modal-content half-black border-0"},_a={class:"modal-header"},pa={class:"modal-title"},ga=t("button",{type:"button",class:"btn-close btn btn-light bg-light","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),va={class:"modal-body"};function fa(a,e,o,s,i,d){return l(),u("div",da,[t("div",ua,[t("div",ma,[t("div",_a,[t("h5",pa,[le(a.$slots,"header")]),ga]),t("div",va,[le(a.$slots,"body")])])])])}var ba=v(la,[["render",fa]]),ha=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ba}),be="/assets/Ontracker logo OG.91dd3b80.png";const ya={setup(){return{user:g(()=>n.user),account:g(()=>n.account),logo:be}}},oe=a=>(k("data-v-2b1ed0b5"),a=a(),$(),a),ja={class:"navbar navbar-expand-sm nav-color navbar-light border-bottom border-primary elevation-4 mb-2 pt-0 pb-0"},xa={class:"container-fluid"},ka={class:"navbar-brand",href:"#"},$a=["src"],wa=oe(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapsibleNavbar"},[t("span",{class:"navbar-toggler-icon"})],-1)),Pa={class:"collapse navbar-collapse justify-content-end",id:"collapsibleNavbar"},Ta={class:"navbar-nav"},Ea={class:"nav-item d-flex align-items-center justify-content-center"},Sa={class:"nav-link",href:"#"},Ia=oe(()=>t("h6",{class:"text-primary mx-4 nav nav-custom"},"New Project",-1)),Aa={class:"nav-item d-flex align-items-center justify-content-center"},Ca={class:"nav-link",href:"#"},Ma=oe(()=>t("h6",{class:"text-primary mx-4 nav nav-custom"},"Employees",-1)),La={class:"nav-item d-flex align-items-center justify-content-center"},Da={class:"nav-link",href:"#"};function Ba(a,e,o,s,i,d){const c=x("router-link"),r=x("Login");return l(),u("nav",ja,[t("div",xa,[t("a",ka,[T(c,{to:{name:"Home"}},{default:M(()=>[t("img",{class:"img-fluid logo",src:s.logo,alt:""},null,8,$a)]),_:1})]),wa,t("div",Pa,[t("ul",Ta,[t("li",Ea,[t("a",Sa,[s.account.businessAccount?(l(),q(c,{key:0,to:{name:"CreateProject"}},{default:M(()=>[Ia]),_:1})):b("",!0)])]),t("li",Aa,[t("a",Ca,[T(c,{to:{name:"EmployeesPage"}},{default:M(()=>[Ma]),_:1})])]),t("li",La,[t("a",Da,[T(r,{class:""})])])])])])])}var Na=v(ya,[["render",Ba],["__scopeId","data-v-2b1ed0b5"]]),Oa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Na});const Va={props:{profile:{type:Object,required:!0}},setup(a){const e=K();return{goToProfile(o){m.log("profile results go to profile prop",o),e.push({name:"Profile",params:{id:o}})}}}},za=a=>(k("data-v-4dc251c2"),a=a(),$(),a),qa={class:"position-relative me-2 me-lg-5"},Ua=["src"],Ra={key:0,class:"grad-badge d-flex align-items-center justify-content-center"},Ha=za(()=>t("i",{class:"text-dark mdi mdi-school mdi-24px"},null,-1)),Ga=[Ha],Ja={class:"d-flex flex-column justify-content-center"},Wa={class:"m-0 my-lg-1"},Ya={class:"mt-1 mb-0 my-lg-1"};function Fa(a,e,o,s,i,d){return l(),u("div",{class:"p-2 mx-lg-5 my-lg-3 border border-dark rounded shadow d-flex selectable no-select bg-light clip-text",onClick:e[0]||(e[0]=c=>s.goToProfile(o.profile._id))},[t("div",qa,[t("img",{src:o.profile.picture,class:"profile-pic rounded-circle"},null,8,Ua),o.profile.graduated?(l(),u("div",Ra,Ga)):b("",!0)]),t("div",Ja,[t("h3",Wa,p(o.profile.class),1),t("h1",Ya,p(o.profile.name),1)])])}var Ka=v(Va,[["render",Fa],["__scopeId","data-v-4dc251c2"]]),Qa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ka});const Za={props:{profile:{type:Object,required:!0}},setup(){return{editing:N(!1),account:g(()=>n.account)}}},se=a=>(k("data-v-7bba2baa"),a=a(),$(),a),Xa={class:"position-relative pb-2 mx-lg-5 my-3 border leprofile border-dark shadow bg-light"},en={class:"position-relative row mb-1"},tn={class:"col-12"},on=["src"],sn=["src"],an={key:0,class:"grad-badge d-flex align-items-center justify-content-center"},nn=se(()=>t("i",{class:"text-dark mdi mdi-school mdi-24px"},null,-1)),cn=[nn],rn={class:"row"},ln={class:"col-12"},dn={class:"d-flex justify-content-end"},un=se(()=>t("i",{class:"mdi mdi-arrow-vertical-lock mdi-48px mx-2",style:{opacity:"0"}},null,-1)),mn=["href"],_n=["title"],pn=["href"],gn=["title"],vn=["href"],fn=["title"],bn={class:"row mt-5 mb-3"},hn={class:"col-12"},yn={class:"px-3 mx-5"},jn={class:"my-1"},xn={class:"my-1"},kn={class:"row"},$n={class:"col-12"},wn={class:"fst-italic px-3 mx-5 mb-4"},Pn={key:0,class:"btn btn-outline-dark edit-button","data-bs-toggle":"modal","data-bs-target":"#edit-profile-modal"},Tn=se(()=>t("h2",null,"Edit Profile",-1));function En(a,e,o,s,i,d){const c=x("ProfileForm"),r=x("Modal");return l(),u(y,null,[t("div",Xa,[t("div",en,[t("div",tn,[t("img",{src:o.profile.coverImg,class:"header-img"},null,8,on),t("img",{src:o.profile.picture,class:"profile-pic rounded-circle"},null,8,sn),o.profile.graduated?(l(),u("div",an,cn)):b("",!0)])]),t("div",rn,[t("div",ln,[t("div",dn,[un,o.profile.github?(l(),u("a",{key:0,href:o.profile.github,target:"_blank"},[t("i",{class:"mdi mdi-github mdi-48px mx-2",title:o.profile.name+"'s Github"},null,8,_n)],8,mn)):b("",!0),o.profile.linkedin?(l(),u("a",{key:1,href:o.profile.linkedin,target:"_blank"},[t("i",{class:"mdi mdi-linkedin mdi-48px mx-2",title:o.profile.name+"'s Linkedin"},null,8,gn)],8,pn)):b("",!0),o.profile.resume?(l(),u("a",{key:2,href:o.profile.resume,target:"_blank"},[t("i",{class:"mdi mdi-file-account-outline mdi-48px mx-2",title:o.profile.name+"'s Resume"},null,8,fn)],8,vn)):b("",!0)])])]),t("div",bn,[t("div",hn,[t("div",yn,[t("h4",jn,p(o.profile.class),1),t("h3",xn,p(o.profile.name),1)])])]),t("div",kn,[t("div",$n,[t("h4",wn,p(o.profile.bio),1)])]),s.account.id===o.profile.id?(l(),u("button",Pn,"Edit")):b("",!0)]),T(r,{id:"edit-profile-modal"},{"modal-header":M(()=>[Tn]),"modal-body":M(()=>[T(c,{profile:o.profile},null,8,["profile"])]),_:1})],64)}var Sn=v(Za,[["render",En],["__scopeId","data-v-7bba2baa"]]),In=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Sn});const An={props:{project:{type:Object,required:!0}},setup(a){const e=K();return{isCritical:!1,goToProjectPage(){try{e.push({name:"Project",params:{id:a.project.id}})}catch(o){m.log(o),f.toast(o.message,"error")}},goToClientView(o){console.log(o),e.push({name:"ClientView",params:{id:o}})},getDateStyle(){let o=new Date(a.project.dueDate),s=new Date;if(s.setDate(s.getDate()+5),o<s)return"text-warning p-0"},async deleteProject(){try{await f.confirm()&&await H.deleteProject(a.project.id)}catch(o){m.log(o),f.toast(o.message,"error")}},account:g(()=>n.account)}}},Cn=a=>(k("data-v-43eafabc"),a=a(),$(),a),Mn={class:"row"},Ln={class:"col-12"},Dn={class:"d-flex justify-content-between"},Bn={class:"text-primary text-center"},Nn={class:"text-muted mb-0"},On=Cn(()=>t("i",{class:"mdi mdi-alert-circle-outline"},null,-1)),Vn={key:0,class:"col-12 bg-danger rounded text-center"},zn={key:1,class:"col-12 bg-success rounded text-center"};function qn(a,e,o,s,i,d){return l(),u("div",Mn,[t("div",Ln,[t("button",{class:"btn btn-outline-primary",onClick:e[0]||(e[0]=c=>s.goToClientView(o.project.id))}," Client View "),t("div",{class:"selection-card d-flex flex-column white-background p-2 m-2 rounded",onClick:e[2]||(e[2]=(...c)=>s.goToProjectPage&&s.goToProjectPage(...c))},[t("div",Dn,[t("h3",Bn,p(o.project.projectName),1),o.project.creatorId==s.account.id?(l(),u("i",{key:0,onClick:e[1]||(e[1]=(...c)=>s.deleteProject&&s.deleteProject(...c)),class:"close-spill mdi mdi-close-circle f-20",title:"Delete Project"})):b("",!0)]),t("p",Nn,p(o.project.location.street_number)+" "+p(o.project.location.route),1),t("p",{class:de(s.getDateStyle())},[On,E("Due: "+p(new Date(o.project.dueDate).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric"})),1)],2),o.project.cancelled?(l(),u("div",Vn,"Cancelled")):b("",!0),o.project.completed?(l(),u("div",zn,"Completed")):b("",!0)])])])}var Un=v(An,[["render",qn],["__scopeId","data-v-43eafabc"]]),Rn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Un});const Hn={setup(){return{}}},Gn={class:"component"};function Jn(a,e,o,s,i,d){return l(),u("div",Gn)}var Wn=v(Hn,[["render",Jn]]),Yn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wn});const Fn={components:{VueHorizontal:ce},setup(){return{project:g(()=>n.activeProject)}}},Kn=["src"];function Qn(a,e,o,s,i,d){const c=x("vue-horizontal");return l(),q(c,null,{default:M(()=>[(l(!0),u(y,null,S(s.project.jobSiteImgs,r=>(l(),u("div",{class:"col-6 justify-content-center d-flex align-items-center",key:r},[t("img",{class:"img-fluid card project-img rounded elevation-3",src:r,alt:""},null,8,Kn)]))),128))]),_:1})}var Zn=v(Fn,[["render",Qn],["__scopeId","data-v-1aa012aa"]]),Xn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zn});const ec={props:{note:{type:Object,required:!0}},setup(a){return{async editNote(e){try{const o=document.getElementById("note"+a.note.id).innerText;await pe.editNote(e,o)}catch(o){m.error(o),f.toast(o.message,"error")}},async deleteNote(e){try{await f.confirm("Are you sure you want to delete this comment")&&await pe.deleteNote(e)}catch(o){m.error(o),f.toast(o.message,"error")}},account:g(()=>n.account),projectNotes:g(()=>n.projectNotes)}}},tc={class:"col-md-12 text-dark d-flex justify-content-between ps-2 pe-2 pt-3"},oc=["src"],sc=["id"],ac={class:"border-bottom border-dark"},nc={class:"ms-3 text-muted"};function cc(a,e,o,s,i,d){var c;return l(),u(y,null,[t("div",tc,[t("div",null,[t("span",null,[t("img",{class:"img-fluid profile-pic border border-primary border-2",src:s.account.picture,alt:""},null,8,oc)]),t("span",{class:"ms-4",id:`note${o.note.id}`,onBlur:e[0]||(e[0]=r=>s.editNote(o.note.id)),contenteditable:"true"},[t("b",null,p(o.note.body),1)],40,sc)]),t("span",null,[t("i",{class:"mdi mdi-delete selectable",title:"Delete Note",onClick:e[1]||(e[1]=r=>s.deleteNote(o.note.id))})])]),t("div",ac,[t("p",nc,p((c=o.note.account)==null?void 0:c.name),1)])],64)}var ic=v(ec,[["render",cc],["__scopeId","data-v-42943dbe"]]),rc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ic});class lc{async getTasks(e){const o=await _.get("api/projects/"+e+"/tasks");m.log(o.data),n.projectTasks=o.data,m.log(n.projectTasks,"[APPSTATE TASKS[")}async postTask(e){const o=await _.post("api/tasks",e);return m.log("posted task",o.data),n.projectTasks.push(o.data),m.log(n.projectTasks,"[TASKS IN APPSTATES"),o.data}async completeTask(e){const o=await _.put("api/tasks/"+e+"/completed");m.log(o.data);let s=o.data,i=n.projectTasks.findIndex(d=>d._id==s._id);n.projectTasks=n.projectTasks.filter(d=>d._id!==s._id),n.projectTasks.splice(i,0,s)}async deleteTask(e){const o=await _.delete("api/tasks/"+e);m.log(o.data),n.projectTasks=n.projectTasks.filter(s=>s._id!=e)}async editTask(e,o,s){const i=await _.put(`api/tasks/${e}`,{description:o,estimatedTime:s});m.log(i.data)}getPercentage(){let e=0,o=0;n.projectTasks.forEach(i=>{i.isCompleted?e+=i.estimatedTime:o+=i.estimatedTime});let s=e/(o+e)*100;n.projectCompletion=Math.floor(s)}}const D=new lc,dc={setup(){return Q(()=>{try{n.projectTasks.length&&D.getPercentage()}catch(a){f.toast(a.message),console.error(a)}}),{tasks:g(()=>n.projectTasks),percentage:g(()=>n.projectCompletion),completedTasks(){try{let a=0;return n.projectTasks.forEach(e=>{e.isCompleted&&a++}),a}catch(a){f.toast(a.message),m.log(a)}}}}},uc={class:"component"},mc={class:"progress mx-5"};function _c(a,e,o,s,i,d){return l(),u("div",uc,[t("div",mc,[t("div",{id:"progress",class:de("progress-bar"),style:Te(`width : ${s.percentage}%;`),role:"progressbar","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])}var pc=v(dc,[["render",_c]]),gc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pc});const vc={props:{task:{type:Object,required:!0}},setup(a){return{async completeTask(e){try{await D.completeTask(e)}catch(o){f.toast(o.message,"error"),m.log(o)}},async deleteTask(e){try{await f.confirm()&&await D.deleteTask(e)}catch(o){m.log(o),f.toast(o.message,"error")}},async editTask(e){try{const o=document.getElementById("taskInfo"+e).innerText,s=document.getElementById("taskTime"+e).innerText;m.log(o),await D.editTask(e,o,s),f.toast("Task Updated")}catch(o){m.log(o),f.toast(o.message)}}}}},he=a=>(k("data-v-26fd5ad6"),a=a(),$(),a),fc={class:"col-md-12 pt-4"},bc=["checked"],hc=["id"],yc={class:"px-5 font-grey border-bottom border-1 border-white mx-4"},jc=he(()=>t("span",{class:"px-1"},[t("i",{class:"mdi mdi-clock-outline"})],-1)),xc=he(()=>t("span",null,"Hours:",-1)),kc=["id"];function $c(a,e,o,s,i,d){return l(),u(y,null,[t("div",fc,[t("input",{class:"selectable form-control mb-3",title:"checkbox",type:"checkbox",checked:o.task.isCompleted,onClick:e[0]||(e[0]=c=>s.completeTask(o.task._id))},null,8,bc),t("span",{id:`taskInfo${o.task._id}`,onBlur:e[1]||(e[1]=c=>s.editTask(o.task._id)),contenteditable:"true",class:"px-4 bg"},p(o.task.description),41,hc),t("span",{onClick:e[2]||(e[2]=c=>s.deleteTask(o.task._id)),class:"mdi mdi-trash-can-outline selectable mx-3",title:"Delete task"})]),t("div",yc,[jc,xc,t("span",{id:`taskTime${o.task._id}`,onBlur:e[3]||(e[3]=c=>s.editTask(o.task._id)),contenteditable:"true",class:"px-2"},p(o.task.estimatedTime),41,kc)])],64)}var wc=v(vc,[["render",$c],["__scopeId","data-v-26fd5ad6"]]),Pc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wc});const Tc={setup(){const a=F(),e=N({});return ue(async()=>{try{await D.getTasks(a.params.id),await D.getPercentage()}catch(o){m.log(o),f.toast(o.message,"error")}}),{taskData:e,async postTask(){try{e.value.projectId=a.params.id,await D.postTask(e.value),document.getElementById("post").reset()}catch(o){m.log(o),f.toast(o.message,"error")}},activeProject:g(()=>n.activeProject),tasks:g(()=>n.projectTasks)}}},W=a=>(k("data-v-b48da6fe"),a=a(),$(),a),Ec={class:"offcanvas offcanvas-end bg text-light",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},Sc=W(()=>t("div",{class:"offcanvas-header text-center border-bottom border-2"},[t("h5",{id:"offcanvasRightLabel"},"Tasks"),t("button",{type:"button",class:"btn-close text-light","data-bs-dismiss":"offcanvas","aria-label":"Close"},[t("span",{class:"mdi mdi-close",title:"Close"})])],-1)),Ic={class:"offcanvas-body"},Ac={class:"row d-flex"},Cc={class:"m-3 col-md-11 d-flex inputBox"},Mc=W(()=>t("span",null,"Description",-1)),Lc={class:"col-md-12 d-flex m-3"},Dc={class:"inputBox d-flex col-9"},Bc=W(()=>t("span",null,"Estimated time",-1)),Nc=W(()=>t("button",{class:"btn btn-primary ms-4 border-white border-2",type:"submit"},[t("i",{class:"mdi mdi-arrow-up-circle-outline fs-5 text-white"})],-1));function Oc(a,e,o,s,i,d){const c=x("ProjectProgressBar"),r=x("Task");return l(),u("div",Ec,[Sc,t("div",Ic,[T(c),(l(!0),u(y,null,S(s.tasks,h=>(l(),q(r,{key:h.id,task:h},null,8,["task"]))),128))]),t("footer",null,[t("div",Ac,[t("form",{onSubmit:e[2]||(e[2]=U((...h)=>s.postTask&&s.postTask(...h),["prevent"])),id:"post",value:"reset"},[t("div",Cc,[j(t("input",{class:"form-control rounded",type:"text","onUpdate:modelValue":e[0]||(e[0]=h=>s.taskData.description=h)},null,512),[[w,s.taskData.description]]),Mc]),t("div",Lc,[t("div",Dc,[j(t("input",{class:"form-control rounded",type:"number","onUpdate:modelValue":e[1]||(e[1]=h=>s.taskData.estimatedTime=h)},null,512),[[w,s.taskData.estimatedTime]]),Bc]),Nc])],32)])])])}var Vc=v(Tc,[["render",Oc],["__scopeId","data-v-b48da6fe"]]),zc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vc});const qc={setup(){return{}}};function Uc(a,e,o,s,i,d){return null}var Rc=v(qc,[["render",Uc]]),Hc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rc});const Gc={setup(){return ue(async()=>{await ee.getAllBusinesses()}),{logo:be,businesses:g(()=>n.allBusinesses),async launchLogin(){P.loginWithPopup()},calculateBusinessesRemaining(a){return n.allBusinesses.length-a}}}},Y=a=>(k("data-v-a720af68"),a=a(),$(),a),Jc={class:"container-fluid"},Wc={class:"row"},Yc={class:"col-md-12 p-2 d-flex justify-content-between border-primary shadow border-bottom"},Fc=["src"],Kc=Y(()=>t("div",{class:"col-md-12 hero-img d-flex flex-column justify-content-center border-primary border-bottom"},[t("div",{class:"text-center"},[t("h1",{class:"m-0"},"Plan With Confidence"),t("h2",null,"Execute With Efficiency"),t("div",{class:"w-15"},[t("p",null,"The best way to handle your day to day business, in an easy to use interface.")])])],-1)),Qc=Ee('<div class="row" data-v-a720af68><div class="col-12 text-center mt-3" data-v-a720af68><h3 class="text-primary" data-v-a720af68>Organize Your Business&#39;s Logistics</h3></div><div class="col-md-4 text-center mt-md-3 mt-5 p-4" data-v-a720af68><h1 data-v-a720af68><i class="mdi mdi-map-marker" data-v-a720af68></i></h1><p class="mt-5" data-v-a720af68>Map out jobSites, all while keeping employees in the loop</p></div><div class="col-md-4 text-center mt-2 p-4" data-v-a720af68><h1 data-v-a720af68><i class="mdi mdi-account-group" data-v-a720af68></i></h1><p class="mt-5" data-v-a720af68>Collaborate with employees and track their tasks as they are completed</p></div><div class="col-md-4 text-center mt-2 p-4" data-v-a720af68><h1 data-v-a720af68><i class="mdi mdi-check-bold" data-v-a720af68></i></h1><p class="mt-5" data-v-a720af68>Keep both employees and clients up to date on the progress of jobs</p></div></div><div class="row" data-v-a720af68><div class="col-md-12 d-flex justify-content-center" data-v-a720af68><h3 class="text-primary" data-v-a720af68>Don&#39;t take our word for it...</h3></div><div class="col-md-4" data-v-a720af68><div data-v-a720af68><div id="carouselExampleInterval" class="carousel slide carousel-fade" data-bs-ride="carousel" data-v-a720af68><div class="carousel-inner" data-v-a720af68><div class="carousel-item active" data-bs-interval="3000" data-v-a720af68><img src="https://images.unsplash.com/photo-1581141849291-1125c7b692b5?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=733&amp;q=80" class="d-block w-100 user-picture" alt="..." data-v-a720af68></div><div class="carousel-item" data-bs-interval="3000" data-v-a720af68><img src="https://images.unsplash.com/photo-1597476817120-9b82cef5ce82?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=735&amp;q=80" class="d-block w-100 user-picture" alt="..." data-v-a720af68></div><div class="carousel-item" data-v-a720af68><img src="https://images.unsplash.com/photo-1621905252472-943afaa20e20?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1976&amp;q=80" class="d-block w-100 user-picture" alt="..." data-v-a720af68></div></div><button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="prev" data-v-a720af68><span class="carousel-control-prev-icon" aria-hidden="true" data-v-a720af68></span><span class="visually-hidden" data-v-a720af68>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="next" data-v-a720af68><span class="carousel-control-next-icon" aria-hidden="true" data-v-a720af68></span><span class="visually-hidden" data-v-a720af68>Next</span></button></div></div></div><div class="col-md-8 d-flex flex-column mt-5 justify-content-around" data-v-a720af68><div class="user-quote my-2" data-v-a720af68><h4 data-v-a720af68>Jack Jameson <span class="position" data-v-a720af68> Project Manager (Spring Lawn Care)</span></h4><p class="text-muted mt-4 mx-4" data-v-a720af68>I use OnTracker way too much. It&#39;s insane.</p></div><div class="user-quote my-2" data-v-a720af68><h4 data-v-a720af68>Jamie Jackson<span class="position" data-v-a720af68> Vice President (Jackson Construction)</span></h4><p class="text-muted mt-4 mx-4" data-v-a720af68>Using OnTracker has revolutionized the way that my company works. I couldn&#39;t say enough good things about it.</p></div><div class="user-quote my-2" data-v-a720af68><h4 data-v-a720af68>Jason Jeremiah<span class="position" data-v-a720af68> CEO (TrackOnner)</span></h4><p class="text-muted mt-4 mx-4" data-v-a720af68>I literally have withdrawls from OnTracker.</p></div></div></div>',2),Zc={class:"row"},Xc=Y(()=>t("div",{class:"col-md-12 d-flex justify-content-center mt-3"},[t("h3",{class:"text-primary"},"Join Our Family of Supported Businesses")],-1)),ei={class:"col-md-12"},ti={class:"businesses-container p-2 m-3 bg-primary rounded"},oi=["src"],si={key:1,class:"d-flex align-items-center d-md-none"},ai=["src"],ni={class:"text-center justify-self-center mx-2"},ci=["src"],ii={key:3,class:"d-flex align-items-center"},ri=["src"],li={class:"text-center justify-self-center mx-2"},di={class:"row"},ui=Y(()=>t("div",{class:"col-md-6"},[t("div",{class:"mx-3 bg-light rounded p-2 my-5"},[t("h3",{class:"text-center"},"Why Plan with Us"),t("p",{class:"text-muted"},[E("- Completely Free, Always "),t("br"),E("- 24/7 Customer Support "),t("br"),E("- Access to the Network of Businesses Who Utilize OnTracker "),t("br"),E("- Guaranteed ROI "),t("br"),E("- Proven Increase In Productivity")])])],-1)),mi={class:"col-md-6 d-flex flex-column align-items-center"},_i=Y(()=>t("h3",{class:"text-primary my-md-5"},"Join Now!",-1));function pi(a,e,o,s,i,d){return l(),u("div",Jc,[t("div",Wc,[t("div",Yc,[t("img",{class:"img-fluid login-logo p-2",src:s.logo,alt:""},null,8,Fc),t("button",{class:"btn btn-outline-primary p-0 px-4 h-50 align-self-center",onClick:e[0]||(e[0]=(...c)=>s.launchLogin&&s.launchLogin(...c))},"login")]),Kc]),Qc,t("div",Zc,[Xc,t("div",ei,[t("div",ti,[s.businesses.length<=3?(l(!0),u(y,{key:0},S(s.businesses,c=>(l(),u("img",{key:c.id,src:c.logo,alt:"",class:"d-md-none"},null,8,oi))),128)):b("",!0),s.businesses.length>=4?(l(),u("div",si,[(l(!0),u(y,null,S(s.businesses,(c,r)=>(l(),u(y,{key:c.id},[r<3?(l(),u("img",{key:0,src:c.logo,alt:"",class:"d-md-none"},null,8,ai)):b("",!0)],64))),128)),t("p",ni,"And "+p(s.calculateBusinessesRemaining(3))+" more!",1)])):b("",!0),s.businesses.length<=15?(l(!0),u(y,{key:2},S(s.businesses,c=>(l(),u("img",{key:c.id,src:c.logo,alt:"",class:"d-none d-md-inline-block"},null,8,ci))),128)):b("",!0),s.businesses.length>=16?(l(),u("div",ii,[(l(!0),u(y,null,S(s.businesses,(c,r)=>(l(),u(y,{key:c.id},[r<15?(l(),u("img",{key:0,src:c.logo,alt:"",class:"d-none d-md-inline-block"},null,8,ri)):b("",!0)],64))),128)),t("p",li,"And "+p(s.calculateBusinessesRemaining(16))+" more!",1)])):b("",!0)])])]),t("div",di,[ui,t("div",mi,[_i,t("button",{onClick:e[1]||(e[1]=(...c)=>s.launchLogin&&s.launchLogin(...c)),class:"btn btn-outline-primary mb-md-none mb-5"},"Login/ Signup")])])])}var gi=v(Gc,[["render",pi],["__scopeId","data-v-a720af68"]]),vi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gi});function fi(a){Object.entries({"./components/ActiveEmployee.vue":nt,"./components/ActiveProject.vue":At,"./components/ActiveProjectMobile.vue":Nt,"./components/AvailableEmployees.vue":Wt,"./components/AvailableEmployeesOffCanvas.vue":to,"./components/CreateProjectModal.vue":Io,"./components/EditProject.vue":Xo,"./components/EmployeeCard.vue":ps,"./components/EmployeeModal.vue":Is,"./components/EmployeeNavbar.vue":Cs,"./components/Login.vue":oa,"./components/MapComponent.vue":ra,"./components/Modal.vue":ha,"./components/Navbar.vue":Oa,"./components/ProfileCard.vue":Qa,"./components/ProfileDetails.vue":In,"./components/Project.vue":Rn,"./components/ProjectCardSmall.vue":Yn,"./components/ProjectImage.vue":Xn,"./components/ProjectNotes.vue":rc,"./components/ProjectProgressBar.vue":gc,"./components/Task.vue":Pc,"./components/TaskOffCanvas.vue":zc,"./components/TeamMembers.vue":Hc,"./components/UserLogin.vue":vi}).forEach(([o,s])=>{const i=s.name||o.substr(o.lastIndexOf("/")+1).replace(/\.\w+$/,"");a.component(i,s.default)})}const ye=Se(Le);fi(ye);ye.use(te).mount("#app");export{n as A,ia as M,f as P,G as a,ee as b,D as c,be as d,O as e,m as l,pe as n,H as p,te as r,R as t};
