import{r as je,_ as v,c as g,a as x,b as u,d as T,o as d,S as ne,e as xe,f as t,g as E,t as p,h,p as k,i as w,j as ce,F as y,k as S,u as Y,l as z,V as ie,m as N,n as F,w as q,q as j,v as $,s as K,x as re,y as ke,z as we,A as $e,B as Q,C as Pe,D as C,E as I,G as le,H as de,I as Te,J as ue,K as Ee,L as Se}from"./vendor.3fe3d150.js";const Ie=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=o(i);fetch(i.href,l)}};Ie();const n=je({user:{},account:{},projects:[],allBusinesses:[],activeBusiness:{},activeProject:{},projectNotes:[],activeEmployee:{},projectTasks:[],employees:[],activeBusinessProjects:[],projectCompletion:0,teamMembers:[],activeProjectTeamMembers:[],activeProjectAvailableEmployees:[],teamMemberAccount:[],accountEmployee:{},activeProjectComplete:!1});const Ae={name:"App",setup(){return{appState:g(()=>n)}}},Me={class:"white-background"};function Ce(a,e,o,s,i,l){const c=x("router-view");return d(),u("main",Me,[T(c)])}var Le=v(Ae,[["render",Ce]]);const me=window.location.origin.includes("localhost"),_e=me?"http://localhost:3000":"",De="dev-k0ett2hk.us.auth0.com",Be="duZCEjAYwATyvUJravqqcShyEj95dzss",Ne="https://DiegoDev.com";function V(a,e){if(me)console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(a){case"log":case"assert":return}console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const m={log(){V("log",arguments)},error(){V("error",arguments)},warn(){V("warn",arguments)},assert(){V("assert",arguments)},trace(){V("trace",arguments)}};class f{static async confirm(e="Are you sure?",o="You won't be able to revert this!",s="warning",i="Yes, delete it!"){try{return!!(await ne.fire({title:e,text:o,icon:s,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:i})).isConfirmed}catch{return!1}}static toast(e="Warning!",o="warning",s="top-end",i=3e3,l=!0){ne.fire({title:e,icon:o,position:s,timer:i,timerProgressBar:l,toast:!0,showConfirmButton:!1})}static error(e){var o;if(e.isAxiosError){const{response:s}=e;this.toast(((o=s.data.error)==null?void 0:o.message)||s.data.message,"error")}else this.toast(e.message||e,"error")}static success(e="Success!"){this.toast(e,"success")}}const _=xe.create({baseURL:_e,timeout:16e3});class Oe{async getAllEmployees(){const e=await _.get("api/businesses/"+n.account.businessId+"/employees");m.log(e.data),n.employees=e.data;let o=n.employees.filter(s=>s.account.id==n.account.id);n.activeEmployee=o[0],m.log("Active Employee",n.activeEmployee),m.log("[EMPLOYEES IN APPSTATE]")}async createEmployee(){let e={businessId:n.account.businessId,accountId:n.account.id,skills:"I am good at this",certifications:["emt"]};const o=await _.post("api/employees",e);n.employees.push(o.data),n.activeEmployee=o.data,console.log(o.data+"create employee")}async editEmployee(e,o){let s=await _.get("api/employees");s=s.data.filter(l=>l.account.id===o),console.log(s);const i=await _.put("api/employees/"+s[0].id,e);console.log(i.data)}async removeEmployee(e){const o=await _.delete("api/employees/"+e);console.log(o.data+"[remove employee]")}async setActiveEmployee(e){let o=n.employees.filter(s=>s.id==e);n.activeEmployee=o[0],console.log(n.employees),console.log(n.activeEmployee)}getAvailableEmployees(){let e=n.activeProjectTeamMembers,o=n.employees;e.forEach(s=>{o.forEach(i=>{i.id===s.employee.id&&(o=o.filter(l=>l.id!==i.id))})}),console.log("here!!!!"),console.log(o),n.activeProjectAvailableEmployees=o}setAccountEmployee(e){n.accountEmployee=n.employees.filter(o=>o.accountId==e)[0],console.log(n.accountEmployee)}}const O=new Oe;const Ve={setup(){return{employee:g(()=>n.activeEmployee),account:g(()=>n.account)}}},Z=a=>(k("data-v-64717afe"),a=a(),w(),a),ze={key:0,class:"container"},qe={class:"row mt-3"},Ue={class:"col-12"},Re={class:"rounded p-2 my-2"},He={class:"row"},Ge={class:"col-12"},Je={class:"d-flex flex-column"},We={class:"d-flex"},Ye=["src"],Fe={class:"mx-2"},Ke={key:0,class:"text-muted fs-6"},Qe={class:""},Ze=Z(()=>t("span",{class:"text-primary"},"Email: ",-1)),Xe={class:""},et=Z(()=>t("span",{class:"text-primary"},"skills: ",-1)),tt={class:""},ot=Z(()=>t("span",{class:"text-primary"},"Certifications: ",-1));function st(a,e,o,s,i,l){return s.employee.id?(d(),u("div",ze,[t("div",qe,[t("div",Ue,[t("div",Re,[t("div",He,[t("div",Ge,[t("div",Je,[t("div",We,[t("img",{class:"profile-img",src:s.employee.account.picture,alt:""},null,8,Ye),t("div",Fe,[t("h3",null,[E(p(s.employee.account.name),1),s.employee.account.businessAccount?(d(),u("span",Ke," (admin)")):h("",!0)]),t("p",Qe,[Ze,E(" "+p(s.employee.account.email),1)]),t("p",Xe,[et,E(" "+p(s.employee.skills),1)]),t("p",tt,[ot,E(" "+p(s.employee.certifications.toString()),1)])])])])])])])])])])):h("",!0)}var at=v(Ve,[["render",st],["__scopeId","data-v-64717afe"]]),nt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:at});class ct{async getNotes(e){const o=await _.get(`api/projects/${e}/notes`);m.log("getting notes",o.data),n.projectNotes=o.data}async createNote(e){const o=await _.post("api/notes/",e);m.log(o.data),n.projectNotes.push(o.data)}async editNote(e,o){const s=await _.put(`api/notes/${e}`,{body:o});m.log(s.data)}async deleteNote(e){const o=await _.delete("api/notes/"+e);m.log("deleting note",o.data),n.projectNotes=n.projectNotes.filter(s=>s.id!=e)}}const pe=new ct;const it={components:{VueHorizontal:ce},props:{project:{type:Object,required:!0}},setup(){return{project:g(()=>n.activeProject),tasks:g(()=>n.projectTasks),notes:g(()=>n.projectNotes),business:g(()=>n.activeBusiness)}}},X=a=>(k("data-v-ee9296ec"),a=a(),w(),a),rt={class:"d-none d-md-block col-md-12 mb-5 my-5"},lt={class:"d-flex align-items-center justify-content-center"},dt={class:"text-center text-md-start me-2 my-0"},ut=X(()=>t("span",{class:"text-primary"},"OnTracker",-1)),mt=X(()=>t("span",{class:"sup"},"\xAE",-1)),_t=["src"],pt=X(()=>t("div",{class:"divider-line"},null,-1)),gt={class:"row px-5 pt-4 pb-3"},vt={class:"col-12 elevation-5"},ft={class:"row"},bt={class:"col-md-12 bg-white p-3 border-bottom border-2 border-primary"},ht={class:"text-center text-primary"},yt={class:"text-center text-muted"},jt={class:"d-flex justify-content-end"},xt={class:"row border-bottom border-primary border-2"};function kt(a,e,o,s,i,l){const c=x("TaskOffCanvas"),r=x("ProjectImage");return d(),u(y,null,[t("div",rt,[t("div",lt,[t("h1",dt,[ut,E(" for "+p(s.business.name),1),mt]),t("img",{src:s.business.logo,class:"img-fluid business-logo",alt:""},null,8,_t)]),pt]),t("div",gt,[t("div",vt,[t("div",ft,[t("div",bt,[t("h2",ht,p(s.project.projectName),1),t("div",yt,p(s.project.description),1)]),t("span",jt,[T(c)])]),t("div",xt,[T(r)])])])],64)}var wt=v(it,[["render",kt],["__scopeId","data-v-ee9296ec"]]),$t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wt});const Pt={setup(){return{project:g(()=>n.activeProject)}}},Tt={class:"text-center mb-3"},Et=["src"];function St(a,e,o,s,i,l){const c=x("ProjectProgressBar");return d(),u(y,null,[t("div",Tt,[t("h2",null,p(s.project.projectName),1)]),t("div",null,[T(c)]),(d(!0),u(y,null,S(s.project.jobSiteImgs,r=>(d(),u("div",{class:"col-10 mx-auto mt-2 align-item-center",key:r},[t("img",{class:"img-fluid rounded",src:r,alt:""},null,8,Et)]))),128))],64)}var It=v(Pt,[["render",St]]),At=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:It});class Mt{async createTeamMember(e){console.log(n.teamMembers);let o=n.teamMembers.filter(s=>s.employeeId==e.employeeId&&s.projectId==e.projectId);if(console.log(o),o.length===0){const s=await _.post("api/teammembers",e);m.log(s.data,"[TEAMMEMBERS IN AppState]"),n.teamMembers.push(s.data),n.activeProjectTeamMembers.push(s.data),n.activeProjectAvailableEmployees=n.activeProjectAvailableEmployees.filter(i=>i.id!==s.data.employee.id),s.data.employee.account.id==n.account.id&&n.teamMemberAccount.push(s.data);return}f.toast("Already Assigned to Project")}async getBusinessTeamMembers(){const e=await _.get("api/teammembers");console.log(e.data);let o=e.data.filter(s=>{var i;return((i=s.employee)==null?void 0:i.businessId)===n.account.businessId});console.log(o),n.teamMembers=o,n.teamMemberAccount=e.data.filter(s=>s.employeeId==n.accountEmployee.id),console.log(n.teamMemberAccount)}async getProjectTeamMembers(e){const o=await _.get("api/projects/"+e+"/teamMembers");console.log(o.data),n.activeProjectTeamMembers=o.data}async getEmployeesTeamMembers(e){const o=await _.get("api/employees/"+e+"/teammembers");console.log(o.data),n.teamMemberAccount=o.data}}const U=new Mt;const Ct={props:{employee:{type:Object,required:!0}},setup(a){const e=Y();return{route:e,activeProject:g(()=>n.activeProject),async createTeamMember(){try{let o={employeeId:a.employee.id,projectId:e.params.id};await U.createTeamMember(o)}catch(o){f.toast(o.message),m.log(o)}}}}},Lt=a=>(k("data-v-6798dd36"),a=a(),w(),a),Dt={class:"col-12 elevated border rounded d-flex justify-content-around p-2"},Bt=Lt(()=>t("span",null,[t("img",{class:"small-profile-img",src:"https://th.bing.com/th/id/R.3223efb84d9394750bcb90dadfefc5b2?rik=zhNwcP5qVVgiFQ&pid=ImgRaw&r=0",alt:""})],-1)),Nt={class:"d-flex align-items-center mt-2"},Ot={class:"text-white"};function Vt(a,e,o,s,i,l){return d(),u("div",Dt,[Bt,t("span",Nt,[t("h2",Ot,[t("b",null,[t("em",null,p(o.employee.account.name),1)])])]),t("span",null,[t("button",{class:"btn btn-primary mt-2 text-center",onClick:e[0]||(e[0]=(...c)=>s.createTeamMember&&s.createTeamMember(...c))}," Assign ")])])}var zt=v(Ct,[["render",Vt],["__scopeId","data-v-6798dd36"]]),qt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zt});const Ut={setup(){return{employees:g(()=>n.activeProjectAvailableEmployees)}}},Rt=a=>(k("data-v-2ebc8061"),a=a(),w(),a),Ht={class:"offcanvas offcanvas-end bg",tabindex:"-1",id:"availableEmployees","aria-labelledby":"offcanvasRightLabel"},Gt=Rt(()=>t("div",{class:"offcanvas-header border-bottom border-white text-white"},[t("h5",{class:"offcanvas-title",id:"offcanvasRightLabel"}," Available Employees "),t("button",{type:"button",class:"btn text-white","data-bs-dismiss":"offcanvas","aria-label":"Close"},[t("i",{class:"mdi mdi-close fs-5"})])],-1)),Jt={class:"offcanvas-body"};function Wt(a,e,o,s,i,l){const c=x("AvailableEmployees");return d(),u("div",Ht,[Gt,t("div",Jt,[(d(!0),u(y,null,S(s.employees,r=>(d(),z(c,{key:r.id,employee:r},null,8,["employee"]))),128))])])}var Yt=v(Ut,[["render",Wt],["__scopeId","data-v-2ebc8061"]]),Ft=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Yt});class Kt{async getAllProjects(){const e=await _.get("api/projects");m.log(e.data),n.projects=e.data,m.log("[PROJECTS IN APPSTATE]")}async getProjectById(e){const o=await _.get("api/projects/"+e);return m.log(o.data),n.activeProject=o.data,o.data}async createProject(e){e.businessId=n.account.businessId,e.creatorId=n.account.id;const o=await _.post("api/projects",e);return console.log(o.data),n.projects.unshift(o.data),n.activeBusinessProjects.unshift(o.data),o.data}async editProject(e,o){const s=await _.put("api/projects/"+e,o);m.log(s.data)}async completeProject(e){const o=await _.put("api/projects/"+e+"/complete");m.log(o.data)}async cancelProject(e){const o=await _.put("api/projects/"+e+"/cancel");m.log(o.data)}async deleteProject(e){const o=await _.delete("api/projects/"+e);m.log(o.data),n.activeBusinessProjects=n.activeBusinessProjects.filter(s=>s.id!=e),n.projects=n.projects.filter(s=>s.id!=e)}async getBusinessProjects(e){const o=await _.get("api/businesses/"+e+"/projects");console.log(o.data),n.activeBusinessProjects=o.data}}const R=new Kt,Qt={components:{VueGoogleAutocomplete:ie},setup(){let a=N({}),e={};const o=F();return{router:o,projectData:a,async createProject(){a.value.location=e;try{const s=await R.createProject(a.value);o.push({to:"Project",params:{id:s.id}})}catch(s){f.toast(s.message),m.log(s)}},getAddressData(s){e=s,console.log(e)}}}},Zt=t("h6",{class:"d-flex align-items-center text-primary mx-4 nav nav-custom selectable","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," + New Project ",-1),Xt={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},eo={class:"modal-dialog modal-lg"},to={class:"modal-content bg-dark"},oo={class:"modal-body"},so={class:"container"},ao=t("div",{class:"row"},[t("div",{class:"col-12"},[t("h3",null,"Create A New Project With OnTracker")])],-1),no={class:"row"},co={class:"col-md-6 p-2"},io=t("label",{for:""},"Project Name",-1),ro={class:"col-md-6 p-2"},lo=t("label",{for:""},"Project Cover Image",-1),uo={class:"col-md-6 p-2"},mo=t("label",{for:""},"Project Location",-1),_o={class:"col-md-6 p-2"},po=t("label",{for:""},"Jobsite Images",-1),go={class:"col-md-6 p-2"},vo=t("label",{for:""},"Quoted Price",-1),fo={class:"col-md-6 p-2"},bo=t("label",{for:""},"Due Date",-1),ho={class:"col-12 p-2"},yo=t("label",{for:""},"Project Description",-1),jo=t("div",{class:"col-12 d-flex justify-content-between"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close "),t("button",{type:"submit",class:"btn btn-success","data-bs-dismiss":"modal"}," Submit ")],-1);function xo(a,e,o,s,i,l){const c=x("vue-google-autocomplete");return d(),u(y,null,[Zt,t("div",Xt,[t("div",eo,[t("div",to,[t("div",oo,[t("div",so,[ao,t("form",{onSubmit:e[6]||(e[6]=q((...r)=>s.createProject&&s.createProject(...r),["prevent"]))},[t("div",no,[t("div",co,[io,j(t("input",{required:"",type:"text",class:"form-control",placeholder:"Name...","onUpdate:modelValue":e[0]||(e[0]=r=>s.projectData.projectName=r)},null,512),[[$,s.projectData.projectName]])]),t("div",ro,[lo,j(t("input",{required:"",type:"text",class:"form-control",placeholder:"Url...","onUpdate:modelValue":e[1]||(e[1]=r=>s.projectData.coverImg=r)},null,512),[[$,s.projectData.coverImg]])]),t("div",uo,[mo,T(c,{id:"map",classname:"form-control",placeholder:"Project Address",onPlacechanged:s.getAddressData},null,8,["onPlacechanged"])]),t("div",_o,[po,j(t("input",{required:"",type:"text",class:"form-control",placeholder:"Urls...","onUpdate:modelValue":e[2]||(e[2]=r=>s.projectData.jobSiteImgs=r)},null,512),[[$,s.projectData.jobSiteImgs]])]),t("div",go,[vo,j(t("input",{required:"",type:"number",min:"1",placeholder:"1",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=r=>s.projectData.quotePrice=r)},null,512),[[$,s.projectData.quotePrice]])]),t("div",fo,[bo,j(t("input",{required:"",type:"date",placeholder:"",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=r=>s.projectData.dueDate=r)},null,512),[[$,s.projectData.dueDate]])]),t("div",ho,[yo,j(t("textarea",{required:"",name:"",id:"",cols:"30",rows:"5",placeholder:"Description...",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=r=>s.projectData.description=r)},null,512),[[$,s.projectData.description]])]),jo])],32)])])])])])],64)}var ko=v(Qt,[["render",xo]]),wo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ko});const $o={components:{VueGoogleAutocomplete:ie},setup(){let a=N({jobSiteImgs:[]}),e=N(""),o={};const s=Y();return K(()=>{a.value=n.activeProject}),{projectData:a,jobImg:e,route:s,async editProject(){try{o.length>=1&&(a.value.location=o),a.value.location=n.activeProject.location,await R.editProject(s.params.id,a.value)}catch(i){m.log(i),f.toast(i.message,"error")}},getAddressData(i){o=i,console.log(i)},addImg(){a.value.jobSiteImgs.push(e.value),e.value=""}}}},L=a=>(k("data-v-c49ad564"),a=a(),w(),a),Po={class:"col-md-12 p-5"},To={class:"row bg-white m-4 p-4 elevation-3"},Eo={class:"col-md-12"},So={class:"row d-flex justify-content-around"},Io={class:"col-md-6 p-3"},Ao=L(()=>t("label",{for:""},"Project Name",-1)),Mo={class:"col-md-6 p-3"},Co=L(()=>t("label",{for:""},"Project Cover Image",-1)),Lo={class:"col-md-6 p-3"},Do=L(()=>t("label",{for:""},"Project Location",-1)),Bo={class:"col-md-6 p-3"},No=L(()=>t("label",{for:""},"Job Site Images",-1)),Oo={class:"input-group"},Vo={class:"col-md-6 p-3"},zo=L(()=>t("label",{for:""},"Quoted Price",-1)),qo={class:"col-md-6 p-3"},Uo=L(()=>t("label",{for:""},"Due Date",-1)),Ro={class:"col-md-12 p-3"},Ho=L(()=>t("div",null,[t("button",{class:"btn btn-success",type:"submit"},"Update")],-1));function Go(a,e,o,s,i,l){const c=x("vue-google-autocomplete");return d(),u("div",Po,[t("div",To,[t("div",Eo,[t("form",{onSubmit:e[7]||(e[7]=q((...r)=>s.editProject&&s.editProject(...r),["prevent"]))},[t("div",So,[t("div",Io,[Ao,j(t("input",{type:"text",class:"form-control",placeholder:"Name...","onUpdate:modelValue":e[0]||(e[0]=r=>s.projectData.projectName=r)},null,512),[[$,s.projectData.projectName]])]),t("div",Mo,[Co,j(t("input",{type:"text",class:"form-control",placeholder:"Url...","onUpdate:modelValue":e[1]||(e[1]=r=>s.projectData.coverImg=r)},null,512),[[$,s.projectData.coverImg]])]),t("div",Lo,[Do,T(c,{id:"project",class:"form-control",placeholder:"Project Address",onPlacechanged:s.getAddressData},null,8,["onPlacechanged"])]),t("div",Bo,[No,t("div",Oo,[j(t("input",{type:"text",class:"form-control",placeholder:"Url...","onUpdate:modelValue":e[2]||(e[2]=r=>s.jobImg=r)},null,512),[[$,s.jobImg]]),t("button",{onClick:e[3]||(e[3]=(...r)=>s.addImg&&s.addImg(...r)),class:"btn btn-dark"},"+")])]),t("div",Vo,[zo,j(t("input",{type:"number",class:"form-control",placeholder:"Url...","onUpdate:modelValue":e[4]||(e[4]=r=>s.projectData.quotePrice=r)},null,512),[[$,s.projectData.quotePrice]])]),t("div",qo,[Uo,j(t("input",{type:"date",class:"form-control border border-primary","onUpdate:modelValue":e[5]||(e[5]=r=>s.projectData.dueDate=r)},null,512),[[$,s.projectData.dueDate]])]),t("div",Ro,[j(t("textarea",{placeholder:"Description",class:"form-control",name:"",id:"",cols:"147",rows:"5","onUpdate:modelValue":e[6]||(e[6]=r=>s.projectData.description=r)},null,512),[[$,s.projectData.description]])]),Ho])],32)])])])}var Jo=v($o,[["render",Go],["__scopeId","data-v-c49ad564"]]),Wo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jo});class Yo{async getAllBusinesses(){const e=await _.get("api/businesses");console.log(e.data),n.allBusinesses=e.data}async setActiveBusiness(e){const o=await _.get("api/businesses/"+e);console.log("SET ACTIVE BUSINESS"),console.log(o.data),n.activeBusiness=o.data}async createBusiness(e){if(!n.account.businessId){let o=await _.post("api/businesses",e);console.log(o.data),n.allBusinesses.push(o.data),await H.setBusinessId(o.data.id);return}f.toast("you already belong to a business","error")}async editBusiness(e){const o=await _.put("api/businesses/"+n.activeBusiness.id,e);m.log(o.data)}}const ee=new Yo;class Fo{async getAccount(){try{const e=await _.get("/account");n.account=e.data}catch(e){m.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async setBusinessId(e){if(!n.account.businessId){await _.put("account/"+n.account.id,{businessId:e});const o=await _.get("api/businesses/"+e);n.account.businessId=e,await ee.setActiveBusiness(n.account.businessId),await O.getAllEmployees(),o.data.creator.id==n.account.id&&(await _.put("account/"+n.account.id,{businessAccount:!0,businessId:e}),n.account.businessAccount=!0),n.account.businessId=e;return}f.toast("you already belong to a business [set business id]","warning")}async removeBusinessId(e){const o=await _.put("/account/"+e,{businessId:void 0});console.log("remove business ID"),console.log(o.data)}async editAccountInfo(e){e.businessAccount=n.account.businessAccount;const o=await _.put("account/"+n.account.id,e);console.log(o.data)}}const H=new Fo;const Ko={props:{employee:{type:Object,required:!0}},setup(a){return{account:g(()=>n.account),async fireEmployee(){await O.removeEmployee(a.employee.id),await H.removeBusinessId(a.employee.account.id)},async quitJob(){await O.removeEmployee(a.employee.id),await H.removeBusinessId(n.account.id)},async setActiveEmployee(){await O.setActiveEmployee(a.employee.id)}}}},Qo={class:"container"},Zo={class:"row"},Xo={class:"col-12"},es={class:"p-2 employees-container"},ts={class:"d-flex align-items-center card-utility employee-card"},os=["src"],ss={class:"d-flex flex-column mx-2 card-utility"},as={key:0,class:"text-muted fs-6"},ns={class:"text-muted"};function cs(a,e,o,s,i,l){return d(),u("div",Qo,[t("div",Zo,[t("div",Xo,[t("div",es,[t("div",ts,[t("img",{class:"profile-img",src:o.employee.account.picture,alt:"",onClick:e[0]||(e[0]=c=>s.setActiveEmployee())},null,8,os),t("div",ss,[t("h4",{class:"text-primary m-0",onClick:e[1]||(e[1]=c=>s.setActiveEmployee())},[E(p(o.employee.account.name),1),o.employee.account.businessAccount?(d(),u("span",as," (admin)")):h("",!0)]),t("p",ns,p(o.employee.account.email),1)])])])])])])}var is=v(Ko,[["render",cs],["__scopeId","data-v-688f1159"]]),rs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:is});const ls={setup(){const a=N({});return{employeeData:a,async createTeamMember(){try{console.log(a.value),await U.createTeamMember(a.value)}catch(e){f.toast(e.message),m.log(e)}},employees:g(()=>n.employees),projects:g(()=>n.activeBusinessProjects)}}},G=a=>(k("data-v-69a35c65"),a=a(),w(),a),ds={class:"modal fade",id:"teamMemberModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},us={class:"modal-dialog"},ms={class:"modal-content"},_s=G(()=>t("div",{class:"modal-header"},[t("h5",{class:"m-0"}," Assign an Employee to a Project"),t("button",{title:"Close",type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),ps={class:"modal-body"},gs={class:"col-md-12"},vs=G(()=>t("b",{class:"ms-1"}," Employee : ",-1)),fs=["value"],bs={class:"col-md-12"},hs=G(()=>t("b",{class:"ms-1"},"Project : ",-1)),ys=["value"],js=G(()=>t("div",{class:"modal-footer d-flex align-items-end"},[t("button",{type:"submit",class:"btn btn-primary form-control"},"Assign")],-1));function xs(a,e,o,s,i,l){return d(),u("div",ds,[t("div",us,[t("div",ms,[_s,t("form",{onSubmit:e[2]||(e[2]=q((...c)=>s.createTeamMember&&s.createTeamMember(...c),["prevent"])),class:"d-flex justify-content-around"},[t("div",ps,[t("div",gs,[vs,j(t("select",{name:"employee",id:"employee","onUpdate:modelValue":e[0]||(e[0]=c=>s.employeeData.employeeId=c)},[(d(!0),u(y,null,S(s.employees,c=>(d(),u("option",{value:c.id,class:"",key:c.id},p(c.account.name),9,fs))),128))],512),[[re,s.employeeData.employeeId]])]),t("div",bs,[hs,j(t("select",{name:"project",id:"project",class:"mt-3","onUpdate:modelValue":e[1]||(e[1]=c=>s.employeeData.projectId=c)},[(d(!0),u(y,null,S(s.projects,c=>(d(),u("option",{value:c.id,class:"d",key:c.id},p(c.projectName),9,ys))),128))],512),[[re,s.employeeData.projectId]])])]),js],32)])])])}var ks=v(ls,[["render",xs],["__scopeId","data-v-69a35c65"]]),ws=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ks});const $s={};var Ps=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$s});const Ts="modulepreload",ge={},Es="/",A=function(e,o){return!o||o.length===0?e():Promise.all(o.map(s=>{if(s=`${Es}${s}`,s in ge)return;ge[s]=!0;const i=s.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${l}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":Ts,i||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),i)return new Promise((r,b)=>{c.addEventListener("load",r),c.addEventListener("error",b)})})).then(()=>e())};function Ss(a){switch(a){case"./pages/AccountPage.vue":return A(()=>import("./AccountPage.411fcfee.js"),["assets/AccountPage.411fcfee.js","assets/AccountPage.07693535.css","assets/vendor.3fe3d150.js"]);case"./pages/BusinessLoginPage.vue":return A(()=>import("./BusinessLoginPage.8e09a924.js"),["assets/BusinessLoginPage.8e09a924.js","assets/BusinessLoginPage.d299141d.css","assets/vendor.3fe3d150.js"]);case"./pages/ClientViewPage.vue":return A(()=>import("./ClientViewPage.6147d956.js"),["assets/ClientViewPage.6147d956.js","assets/ClientViewPage.089ec4f4.css","assets/vendor.3fe3d150.js"]);case"./pages/CreateProjectPage.vue":return A(()=>import("./CreateProjectPage.2262f566.js"),["assets/CreateProjectPage.2262f566.js","assets/CreateProjectPage.14d03acc.css","assets/vendor.3fe3d150.js"]);case"./pages/EmployeeLoginPage.vue":return A(()=>import("./EmployeeLoginPage.6df29e94.js"),["assets/EmployeeLoginPage.6df29e94.js","assets/EmployeeLoginPage.1c29edd9.css","assets/vendor.3fe3d150.js"]);case"./pages/EmployeesPage.vue":return A(()=>import("./EmployeesPage.4b8a4082.js"),["assets/EmployeesPage.4b8a4082.js","assets/vendor.3fe3d150.js"]);case"./pages/FirstTimeLoginPage.vue":return A(()=>import("./FirstTimeLoginPage.8b05f17b.js"),["assets/FirstTimeLoginPage.8b05f17b.js","assets/FirstTimeLoginPage.b06c6597.css","assets/vendor.3fe3d150.js"]);case"./pages/HomePage.vue":return A(()=>import("./HomePage.8d48fdab.js"),["assets/HomePage.8d48fdab.js","assets/HomePage.23bb7648.css","assets/vendor.3fe3d150.js"]);case"./pages/ProjectDetailsPage.vue":return A(()=>import("./ProjectDetailsPage.c69b84f3.js"),["assets/ProjectDetailsPage.c69b84f3.js","assets/ProjectDetailsPage.7f88505e.css","assets/vendor.3fe3d150.js"]);default:return new Promise(function(e,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+a)))})}}function M(a){return()=>Ss(`./pages/${a}.vue`)}const Is=[{path:"/",name:"Home",component:M("HomePage"),beforeEnter:$e},{path:"/project/:id",name:"Project",component:M("ProjectDetailsPage")},{path:"/employeeLogin",name:"EmployeeLogin",component:M("EmployeeLoginPage")},{path:"/employeePage",name:"EmployeesPage",component:M("EmployeesPage"),beforeEnter:Q},{path:"/businessLogin",name:"BusinessLogin",component:M("BusinessLoginPage")},{path:"/firstTimeLogin",name:"FirstTimeLogin",component:M("FirstTimeLoginPage")},{path:"/account",name:"Account",component:M("AccountPage"),beforeEnter:Q},{path:"/createProject",name:"CreateProject",component:M("CreateProjectPage"),beforeEnter:Q},{path:"/clientView/:id",name:"ClientView",component:M("ClientViewPage")}],te=ke({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:we(),routes:Is}),As={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class Ms{constructor(e=!1,o=_e){}on(e,o){var s;return(s=this.socket)==null||s.on(e,o.bind(this)),this}onConnected(e){m.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){m.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var o;(o=this.socket)==null||o.emit(As.authenticate,e)}onError(e){m.error("[SOCKET_ERROR]",e)}enqueue(e,o){m.log("[ENQUEING_ACTION]",{action:e,payload:o}),this.queue.push({action:e,payload:o})}playback(){m.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(o=>{this.emit(o.action,o.payload)})}emit(e,o=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,o);if(!this.connected)return this.enqueue(e,o);this.socket.emit(e,o)}}class Cs extends Ms{constructor(){super();this.on("error",this.onError)}onError(e){f.toast(e.message,"error")}}const ve=new Cs,P=Pe({domain:De,clientId:Be,audience:Ne,useRefreshTokens:!0,onRedirectCallback:a=>{te.push(a&&a.targetUrl?a.targetUrl:window.location.pathname)}});P.on(P.AUTH_EVENTS.AUTHENTICATED,async function(){_.defaults.headers.authorization=P.bearer,_.interceptors.request.use(Ls),n.user=P.user,await H.getAccount(),ve.authenticate(P.bearer),n.account.businessId?(await ee.setActiveBusiness(n.account.businessId),await O.getAllEmployees(),await R.getBusinessProjects(n.account.businessId),await O.setAccountEmployee(n.account.id),await U.getBusinessTeamMembers(),await U.getEmployeesTeamMembers(n.accountEmployee.id)):te.push({name:"FirstTimeLogin"})});async function Ls(a){if(!P.isAuthenticated)return a;const e=P.identity.exp*1e3,o=e<Date.now(),s=e<Date.now()+1e3*60*60*12;return o?await P.loginWithPopup():s&&(await P.getTokenSilently(),_.defaults.headers.authorization=P.bearer,ve.authenticate(P.bearer)),a}const Ds={setup(){return{user:g(()=>n.user),account:g(()=>n.account),async login(){P.loginWithPopup()},async logout(){P.logout({returnTo:window.location.origin})}}}},fe=a=>(k("data-v-67924d29"),a=a(),w(),a),Bs={class:"d-flex align-items-center"},Ns={key:1,class:"dropdown my-3 my-lg-0"},Os={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},Vs={key:0,class:"d-flex justify-content-center"},zs=["src"],qs={class:"dropdown-menu p-0 list-group me-4","aria-labelledby":"authDropdown"},Us=fe(()=>t("div",{class:"list-group-item list-group-item-action hoverable"}," Manage Account ",-1)),Rs=fe(()=>t("i",{class:"mdi mdi-logout"},null,-1)),Hs=E(" logout "),Gs=[Rs,Hs],Js={class:"text-center"},Ws={class:"name"};function Ys(a,e,o,s,i,l){const c=x("router-link");return d(),u("span",Bs,[s.user.isAuthenticated?(d(),u("div",Ns,[t("div",Os,[s.account.picture?(d(),u("div",Vs,[t("img",{src:s.account.picture,alt:"account photo",height:"50",class:"rounded"},null,8,zs)])):h("",!0)]),t("div",qs,[T(c,{to:{name:"Account"}},{default:C(()=>[Us]),_:1}),t("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...r)=>s.logout&&s.logout(...r))},Gs),t("div",Js,[t("span",Ws,[t("b",null,p(s.account.name),1)])])])])):(d(),u("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...r)=>s.login&&s.login(...r))}," Login "))])}var Fs=v(Ds,[["render",Ys],["__scopeId","data-v-67924d29"]]),Ks=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fs});const Qs={name:"BaseMap",data(){return{accessToken:"pk.eyJ1Ijoic2tld2VyNDkwIiwiYSI6ImNsNHhhZnp3bTBjNWIzYnBwMGVnd2Frc28ifQ.HLbBCBYU_1Piw91ExBGBjA",navigateToProjectPage(a){console.log(a)}}},setup(){},mounted(){I.accessToken=this.accessToken;let a={maxLongitude:0,maxLatitude:0,minLongitude:0,minLatitude:0},e=new I.Map({container:"mapContainer",style:"mapbox://styles/mapbox/outdoors-v11",center:[-116.215019,43.618881],zoom:13});K(()=>{console.log(n.activeBusinessProjects),console.log(n.activeBusiness),s(),o()});async function o(){if(console.log(n.activeBusinessProjects),n.account.businessAccount){n.activeBusinessProjects.forEach(c=>{const r=document.createElement("div");r.className="marker",r.style.backgroundImage="https://thiscatdoesnotexist.com/",r.style.width="30px",r.style.height="40px",r.style.backgroundSize="100%";let b=[c.location.longitude,c.location.latitude];(c.location.longitude>a.maxLongitude||a.maxLongitude==0)&&(a.maxLongitude=c.location.longitude),(c.location.longitude<a.minLongitude||a.minLongitude==0)&&(a.minLongitude=c.location.longitude),(c.location.latitude>a.maxLatitude||a.maxLatitude==0)&&(a.maxLatitude=c.location.latitude),(c.location.latitude<a.minLatitude||a.minLatitude==0)&&(a.minLatitude=c.location.latitude),console.log(b),new I.Marker(r).setLngLat(b).setPopup(new I.Popup({offset:25}).setHTML(`<div class="text-start"><h4 class='text-primary text-start py-0'>${c.projectName}</h4><p class='text-muted text-start py-0'>${c.description}</p><form action="http://localhost:8080/#/project/${c.id}">
                  <button type="submit" class="btn btn-outline-primary py-0"/>See Project Details</button></form></div>`)).addTo(e);const B=[[a.minLongitude,a.minLatitude],[a.maxLongitude,a.maxLatitude]];e.fitBounds(B,{padding:100})});let l=document.getElementsByClassName("marker");console.log(l)}else{n.teamMemberAccount.forEach(c=>{const r=document.createElement("div");r.className="marker",r.style.backgroundImage="https://thiscatdoesnotexist.com/",r.style.width="30px",r.style.height="40px",r.style.backgroundSize="100%";let b=[c.project.location.longitude,c.project.location.latitude];(c.project.location.longitude>a.maxLongitude||a.maxLongitude==0)&&(a.maxLongitude=c.project.location.longitude),(c.project.location.longitude<a.minLongitude||a.minLongitude==0)&&(a.minLongitude=c.project.location.longitude),(c.project.location.latitude>a.maxLatitude||a.maxLatitude==0)&&(a.maxLatitude=c.project.location.latitude),(c.project.location.latitude<a.minLatitude||a.minLatitude==0)&&(a.minLatitude=c.project.location.latitude),console.log(b),new I.Marker(r).setLngLat(b).setPopup(new I.Popup({offset:25}).setHTML(`<div class="text-start"><h4 class='text-primary text-start py-0'>${c.projectName}</h4><p class='text-muted text-start py-0'>${c.description}</p><form action="http://localhost:8080/#/project/${c.id}">
                  <button type="submit" class="btn btn-outline-primary py-0"/>See Project Details</button></form></div>`)).addTo(e);const B=[[a.minLongitude,a.minLatitude],[a.maxLongitude,a.maxLatitude]];e.fitBounds(B,{padding:100})});let l=document.getElementsByClassName("marker");console.log(l)}}async function s(){var B,ae;let l=n.activeBusiness;const c=document.createElement("div");c.className="businessMarker",c.style.backgroundImage=`url('${l.logo}')`,c.style.borderRadius="50%",c.style.width="60px",c.style.height="60px",c.style.backgroundSize="100%";let r=[(B=l.address)==null?void 0:B.longitude,(ae=l.address)==null?void 0:ae.latitude];console.log(r),new I.Marker(c).setLngLat(r).setPopup(new I.Popup({offset:25}).setHTML(`<h2 class='text-primary text-start'>${l.name}</h2>`)).addTo(e),a.maxLatitude=l.address.latitude,a.minLatitude=l.address.latitude,a.minLongitude=l.address.longitude,a.maxLongitude=l.address.longitude,console.log(r);let b=document.getElementsByClassName("businessMarker");console.log(b)}const i=new I.NavigationControl;e.addControl(i,"top-right")}},Zs={id:"mapContainer",class:"basemap"};function Xs(a,e,o,s,i,l){return d(),u("div",Zs)}var ea=v(Qs,[["render",Xs],["__scopeId","data-v-37fd26be"]]),ta=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ea});const oa={setup(){return{}}},sa={class:"modal fade half-black",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},aa={class:"modal-dialog",role:"document"},na={class:"modal-content half-black border-0"},ca={class:"modal-header"},ia={class:"modal-title"},ra=t("button",{type:"button",class:"btn-close btn btn-light bg-light","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),la={class:"modal-body"};function da(a,e,o,s,i,l){return d(),u("div",sa,[t("div",aa,[t("div",na,[t("div",ca,[t("h5",ia,[le(a.$slots,"header")]),ra]),t("div",la,[le(a.$slots,"body")])])])])}var ua=v(oa,[["render",da]]),ma=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ua}),be="/assets/Ontracker logo OG.91dd3b80.png";const _a={setup(){return{user:g(()=>n.user),account:g(()=>n.account),logo:be}}},oe=a=>(k("data-v-2b1ed0b5"),a=a(),w(),a),pa={class:"navbar navbar-expand-sm nav-color navbar-light border-bottom border-primary elevation-4 mb-2 pt-0 pb-0"},ga={class:"container-fluid"},va={class:"navbar-brand",href:"#"},fa=["src"],ba=oe(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapsibleNavbar"},[t("span",{class:"navbar-toggler-icon"})],-1)),ha={class:"collapse navbar-collapse justify-content-end",id:"collapsibleNavbar"},ya={class:"navbar-nav"},ja={class:"nav-item d-flex align-items-center justify-content-center"},xa={class:"nav-link",href:"#"},ka=oe(()=>t("h6",{class:"text-primary mx-4 nav nav-custom"},"New Project",-1)),wa={class:"nav-item d-flex align-items-center justify-content-center"},$a={class:"nav-link",href:"#"},Pa=oe(()=>t("h6",{class:"text-primary mx-4 nav nav-custom"},"Employees",-1)),Ta={class:"nav-item d-flex align-items-center justify-content-center"},Ea={class:"nav-link",href:"#"};function Sa(a,e,o,s,i,l){const c=x("router-link"),r=x("Login");return d(),u("nav",pa,[t("div",ga,[t("a",va,[T(c,{to:{name:"Home"}},{default:C(()=>[t("img",{class:"img-fluid logo",src:s.logo,alt:""},null,8,fa)]),_:1})]),ba,t("div",ha,[t("ul",ya,[t("li",ja,[t("a",xa,[s.account.businessAccount?(d(),z(c,{key:0,to:{name:"CreateProject"}},{default:C(()=>[ka]),_:1})):h("",!0)])]),t("li",wa,[t("a",$a,[T(c,{to:{name:"EmployeesPage"}},{default:C(()=>[Pa]),_:1})])]),t("li",Ta,[t("a",Ea,[T(r,{class:""})])])])])])])}var Ia=v(_a,[["render",Sa],["__scopeId","data-v-2b1ed0b5"]]),Aa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ia});const Ma={props:{profile:{type:Object,required:!0}},setup(a){const e=F();return{goToProfile(o){m.log("profile results go to profile prop",o),e.push({name:"Profile",params:{id:o}})}}}},Ca=a=>(k("data-v-4dc251c2"),a=a(),w(),a),La={class:"position-relative me-2 me-lg-5"},Da=["src"],Ba={key:0,class:"grad-badge d-flex align-items-center justify-content-center"},Na=Ca(()=>t("i",{class:"text-dark mdi mdi-school mdi-24px"},null,-1)),Oa=[Na],Va={class:"d-flex flex-column justify-content-center"},za={class:"m-0 my-lg-1"},qa={class:"mt-1 mb-0 my-lg-1"};function Ua(a,e,o,s,i,l){return d(),u("div",{class:"p-2 mx-lg-5 my-lg-3 border border-dark rounded shadow d-flex selectable no-select bg-light clip-text",onClick:e[0]||(e[0]=c=>s.goToProfile(o.profile._id))},[t("div",La,[t("img",{src:o.profile.picture,class:"profile-pic rounded-circle"},null,8,Da),o.profile.graduated?(d(),u("div",Ba,Oa)):h("",!0)]),t("div",Va,[t("h3",za,p(o.profile.class),1),t("h1",qa,p(o.profile.name),1)])])}var Ra=v(Ma,[["render",Ua],["__scopeId","data-v-4dc251c2"]]),Ha=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ra});const Ga={props:{profile:{type:Object,required:!0}},setup(){return{editing:N(!1),account:g(()=>n.account)}}},se=a=>(k("data-v-7bba2baa"),a=a(),w(),a),Ja={class:"position-relative pb-2 mx-lg-5 my-3 border leprofile border-dark shadow bg-light"},Wa={class:"position-relative row mb-1"},Ya={class:"col-12"},Fa=["src"],Ka=["src"],Qa={key:0,class:"grad-badge d-flex align-items-center justify-content-center"},Za=se(()=>t("i",{class:"text-dark mdi mdi-school mdi-24px"},null,-1)),Xa=[Za],en={class:"row"},tn={class:"col-12"},on={class:"d-flex justify-content-end"},sn=se(()=>t("i",{class:"mdi mdi-arrow-vertical-lock mdi-48px mx-2",style:{opacity:"0"}},null,-1)),an=["href"],nn=["title"],cn=["href"],rn=["title"],ln=["href"],dn=["title"],un={class:"row mt-5 mb-3"},mn={class:"col-12"},_n={class:"px-3 mx-5"},pn={class:"my-1"},gn={class:"my-1"},vn={class:"row"},fn={class:"col-12"},bn={class:"fst-italic px-3 mx-5 mb-4"},hn={key:0,class:"btn btn-outline-dark edit-button","data-bs-toggle":"modal","data-bs-target":"#edit-profile-modal"},yn=se(()=>t("h2",null,"Edit Profile",-1));function jn(a,e,o,s,i,l){const c=x("ProfileForm"),r=x("Modal");return d(),u(y,null,[t("div",Ja,[t("div",Wa,[t("div",Ya,[t("img",{src:o.profile.coverImg,class:"header-img"},null,8,Fa),t("img",{src:o.profile.picture,class:"profile-pic rounded-circle"},null,8,Ka),o.profile.graduated?(d(),u("div",Qa,Xa)):h("",!0)])]),t("div",en,[t("div",tn,[t("div",on,[sn,o.profile.github?(d(),u("a",{key:0,href:o.profile.github,target:"_blank"},[t("i",{class:"mdi mdi-github mdi-48px mx-2",title:o.profile.name+"'s Github"},null,8,nn)],8,an)):h("",!0),o.profile.linkedin?(d(),u("a",{key:1,href:o.profile.linkedin,target:"_blank"},[t("i",{class:"mdi mdi-linkedin mdi-48px mx-2",title:o.profile.name+"'s Linkedin"},null,8,rn)],8,cn)):h("",!0),o.profile.resume?(d(),u("a",{key:2,href:o.profile.resume,target:"_blank"},[t("i",{class:"mdi mdi-file-account-outline mdi-48px mx-2",title:o.profile.name+"'s Resume"},null,8,dn)],8,ln)):h("",!0)])])]),t("div",un,[t("div",mn,[t("div",_n,[t("h4",pn,p(o.profile.class),1),t("h3",gn,p(o.profile.name),1)])])]),t("div",vn,[t("div",fn,[t("h4",bn,p(o.profile.bio),1)])]),s.account.id===o.profile.id?(d(),u("button",hn,"Edit")):h("",!0)]),T(r,{id:"edit-profile-modal"},{"modal-header":C(()=>[yn]),"modal-body":C(()=>[T(c,{profile:o.profile},null,8,["profile"])]),_:1})],64)}var xn=v(Ga,[["render",jn],["__scopeId","data-v-7bba2baa"]]),kn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xn});const wn={props:{project:{type:Object,required:!0}},setup(a){const e=F();return{isCritical:!1,goToProjectPage(){try{e.push({name:"Project",params:{id:a.project.id}})}catch(o){m.log(o),f.toast(o.message,"error")}},goToClientView(o){console.log(o),e.push({name:"ClientView",params:{id:o}})},getDateStyle(){let o=new Date(a.project.dueDate),s=new Date;if(s.setDate(s.getDate()+5),o<s)return"text-warning p-0"},async deleteProject(){try{await f.confirm()&&await R.deleteProject(a.project.id)}catch(o){m.log(o),f.toast(o.message,"error")}},account:g(()=>n.account)}}},$n=a=>(k("data-v-64f92f6c"),a=a(),w(),a),Pn={class:"row"},Tn={class:"col-12"},En={class:"d-flex justify-content-between"},Sn={class:"text-primary text-center"},In={class:"text-muted mb-0"},An=$n(()=>t("i",{class:"mdi mdi-alert-circle-outline"},null,-1));function Mn(a,e,o,s,i,l){return d(),u("div",Pn,[t("div",Tn,[t("button",{class:"btn btn-outline-primary",onClick:e[0]||(e[0]=c=>s.goToClientView(o.project.id))}," Client View "),t("div",{class:"selection-card d-flex flex-column white-background p-2 m-2 rounded",onClick:e[2]||(e[2]=(...c)=>s.goToProjectPage&&s.goToProjectPage(...c))},[t("div",En,[t("h3",Sn,p(o.project.projectName),1),o.project.creatorId==s.account.id?(d(),u("i",{key:0,onClick:e[1]||(e[1]=(...c)=>s.deleteProject&&s.deleteProject(...c)),class:"close-spill mdi mdi-close-circle f-20",title:"Delete Project"})):h("",!0)]),t("p",In,p(o.project.location.street_number)+" "+p(o.project.location.route),1),t("p",{class:de(s.getDateStyle())},[An,E("Due: "+p(new Date(o.project.dueDate).toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric"})),1)],2)])])])}var Cn=v(wn,[["render",Mn],["__scopeId","data-v-64f92f6c"]]),Ln=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Cn});const Dn={setup(){return{}}},Bn={class:"component"};function Nn(a,e,o,s,i,l){return d(),u("div",Bn)}var On=v(Dn,[["render",Nn]]),Vn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:On});const zn={components:{VueHorizontal:ce},setup(){return{project:g(()=>n.activeProject)}}},qn=["src"];function Un(a,e,o,s,i,l){const c=x("vue-horizontal");return d(),z(c,null,{default:C(()=>[(d(!0),u(y,null,S(s.project.jobSiteImgs,r=>(d(),u("div",{class:"col-6 justify-content-center d-flex align-items-center",key:r},[t("img",{class:"img-fluid card project-img rounded elevation-3",src:r,alt:""},null,8,qn)]))),128))]),_:1})}var Rn=v(zn,[["render",Un],["__scopeId","data-v-1aa012aa"]]),Hn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rn});const Gn={props:{note:{type:Object,required:!0}},setup(a){return{async editNote(e){try{const o=document.getElementById("note"+a.note.id).innerText;await pe.editNote(e,o)}catch(o){m.error(o),f.toast(o.message,"error")}},async deleteNote(e){try{await f.confirm("Are you sure you want to delete this comment")&&await pe.deleteNote(e)}catch(o){m.error(o),f.toast(o.message,"error")}},account:g(()=>n.account),projectNotes:g(()=>n.projectNotes)}}},Jn={class:"col-md-12 text-dark d-flex justify-content-between ps-2 pe-2 pt-3"},Wn=["src"],Yn=["id"],Fn={class:"border-bottom border-dark"},Kn={class:"ms-3 text-muted"};function Qn(a,e,o,s,i,l){var c;return d(),u(y,null,[t("div",Jn,[t("div",null,[t("span",null,[t("img",{class:"img-fluid profile-pic border border-primary border-2",src:s.account.picture,alt:""},null,8,Wn)]),t("span",{class:"ms-4",id:`note${o.note.id}`,onBlur:e[0]||(e[0]=r=>s.editNote(o.note.id)),contenteditable:"true"},[t("b",null,p(o.note.body),1)],40,Yn)]),t("span",null,[t("i",{class:"mdi mdi-delete selectable",title:"Delete Note",onClick:e[1]||(e[1]=r=>s.deleteNote(o.note.id))})])]),t("div",Fn,[t("p",Kn,p((c=o.note.account)==null?void 0:c.name),1)])],64)}var Zn=v(Gn,[["render",Qn],["__scopeId","data-v-42943dbe"]]),Xn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zn});class ec{async getTasks(e){const o=await _.get("api/projects/"+e+"/tasks");m.log(o.data),n.projectTasks=o.data,m.log(n.projectTasks,"[APPSTATE TASKS[")}async postTask(e){const o=await _.post("api/tasks",e);return m.log("posted task",o.data),n.projectTasks.push(o.data),m.log(n.projectTasks,"[TASKS IN APPSTATES"),o.data}async completeTask(e){const o=await _.put("api/tasks/"+e+"/completed");m.log(o.data);let s=o.data,i=n.projectTasks.findIndex(l=>l._id==s._id);n.projectTasks=n.projectTasks.filter(l=>l._id!==s._id),n.projectTasks.splice(i,0,s)}async deleteTask(e){const o=await _.delete("api/tasks/"+e);m.log(o.data),n.projectTasks=n.projectTasks.filter(s=>s._id!=e)}async editTask(e,o,s){const i=await _.put(`api/tasks/${e}`,{description:o,estimatedTime:s});m.log(i.data)}getPercentage(){let e=0,o=0;n.projectTasks.forEach(i=>{i.isCompleted?e+=i.estimatedTime:o+=i.estimatedTime});let s=e/(o+e)*100;n.projectCompletion=Math.floor(s)}}const D=new ec,tc={setup(){return K(()=>{try{n.projectTasks.length&&D.getPercentage()}catch(a){f.toast(a.message),console.error(a)}}),{tasks:g(()=>n.projectTasks),percentage:g(()=>n.projectCompletion),completedTasks(){try{let a=0;return n.projectTasks.forEach(e=>{e.isCompleted&&a++}),a}catch(a){f.toast(a.message),m.log(a)}}}}},oc={class:"component"},sc={class:"progress mx-5"};function ac(a,e,o,s,i,l){return d(),u("div",oc,[t("div",sc,[t("div",{id:"progress",class:de("progress-bar"),style:Te(`width : ${s.percentage}%;`),role:"progressbar","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])}var nc=v(tc,[["render",ac]]),cc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nc});const ic={props:{task:{type:Object,required:!0}},setup(a){return{async completeTask(e){try{await D.completeTask(e)}catch(o){f.toast(o.message,"error"),m.log(o)}},async deleteTask(e){try{await f.confirm()&&await D.deleteTask(e)}catch(o){m.log(o),f.toast(o.message,"error")}},async editTask(e){try{const o=document.getElementById("taskInfo"+e).innerText,s=document.getElementById("taskTime"+e).innerText;m.log(o),await D.editTask(e,o,s),f.toast("Task Updated")}catch(o){m.log(o),f.toast(o.message)}}}}},he=a=>(k("data-v-26fd5ad6"),a=a(),w(),a),rc={class:"col-md-12 pt-4"},lc=["checked"],dc=["id"],uc={class:"px-5 font-grey border-bottom border-1 border-white mx-4"},mc=he(()=>t("span",{class:"px-1"},[t("i",{class:"mdi mdi-clock-outline"})],-1)),_c=he(()=>t("span",null,"Hours:",-1)),pc=["id"];function gc(a,e,o,s,i,l){return d(),u(y,null,[t("div",rc,[t("input",{class:"selectable form-control mb-3",title:"checkbox",type:"checkbox",checked:o.task.isCompleted,onClick:e[0]||(e[0]=c=>s.completeTask(o.task._id))},null,8,lc),t("span",{id:`taskInfo${o.task._id}`,onBlur:e[1]||(e[1]=c=>s.editTask(o.task._id)),contenteditable:"true",class:"px-4 bg"},p(o.task.description),41,dc),t("span",{onClick:e[2]||(e[2]=c=>s.deleteTask(o.task._id)),class:"mdi mdi-trash-can-outline selectable mx-3",title:"Delete task"})]),t("div",uc,[mc,_c,t("span",{id:`taskTime${o.task._id}`,onBlur:e[3]||(e[3]=c=>s.editTask(o.task._id)),contenteditable:"true",class:"px-2"},p(o.task.estimatedTime),41,pc)])],64)}var vc=v(ic,[["render",gc],["__scopeId","data-v-26fd5ad6"]]),fc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vc});const bc={setup(){const a=Y(),e=N({});return ue(async()=>{try{await D.getTasks(a.params.id),await D.getPercentage()}catch(o){m.log(o),f.toast(o.message,"error")}}),{taskData:e,async postTask(){try{e.value.projectId=a.params.id,await D.postTask(e.value),document.getElementById("post").reset()}catch(o){m.log(o),f.toast(o.message,"error")}},activeProject:g(()=>n.activeProject),tasks:g(()=>n.projectTasks)}}},J=a=>(k("data-v-b48da6fe"),a=a(),w(),a),hc={class:"offcanvas offcanvas-end bg text-light",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},yc=J(()=>t("div",{class:"offcanvas-header text-center border-bottom border-2"},[t("h5",{id:"offcanvasRightLabel"},"Tasks"),t("button",{type:"button",class:"btn-close text-light","data-bs-dismiss":"offcanvas","aria-label":"Close"},[t("span",{class:"mdi mdi-close",title:"Close"})])],-1)),jc={class:"offcanvas-body"},xc={class:"row d-flex"},kc={class:"m-3 col-md-11 d-flex inputBox"},wc=J(()=>t("span",null,"Description",-1)),$c={class:"col-md-12 d-flex m-3"},Pc={class:"inputBox d-flex col-9"},Tc=J(()=>t("span",null,"Estimated time",-1)),Ec=J(()=>t("button",{class:"btn btn-primary ms-4 border-white border-2",type:"submit"},[t("i",{class:"mdi mdi-arrow-up-circle-outline fs-5 text-white"})],-1));function Sc(a,e,o,s,i,l){const c=x("ProjectProgressBar"),r=x("Task");return d(),u("div",hc,[yc,t("div",jc,[T(c),(d(!0),u(y,null,S(s.tasks,b=>(d(),z(r,{key:b.id,task:b},null,8,["task"]))),128))]),t("footer",null,[t("div",xc,[t("form",{onSubmit:e[2]||(e[2]=q((...b)=>s.postTask&&s.postTask(...b),["prevent"])),id:"post",value:"reset"},[t("div",kc,[j(t("input",{class:"form-control rounded",type:"text","onUpdate:modelValue":e[0]||(e[0]=b=>s.taskData.description=b)},null,512),[[$,s.taskData.description]]),wc]),t("div",$c,[t("div",Pc,[j(t("input",{class:"form-control rounded",type:"number","onUpdate:modelValue":e[1]||(e[1]=b=>s.taskData.estimatedTime=b)},null,512),[[$,s.taskData.estimatedTime]]),Tc]),Ec])],32)])])])}var Ic=v(bc,[["render",Sc],["__scopeId","data-v-b48da6fe"]]),Ac=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ic});const Mc={setup(){return{}}};function Cc(a,e,o,s,i,l){return null}var Lc=v(Mc,[["render",Cc]]),Dc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Lc});const Bc={setup(){return ue(async()=>{await ee.getAllBusinesses()}),{logo:be,businesses:g(()=>n.allBusinesses),async launchLogin(){P.loginWithPopup()},calculateBusinessesRemaining(a){return n.allBusinesses.length-a}}}},W=a=>(k("data-v-a720af68"),a=a(),w(),a),Nc={class:"container-fluid"},Oc={class:"row"},Vc={class:"col-md-12 p-2 d-flex justify-content-between border-primary shadow border-bottom"},zc=["src"],qc=W(()=>t("div",{class:"col-md-12 hero-img d-flex flex-column justify-content-center border-primary border-bottom"},[t("div",{class:"text-center"},[t("h1",{class:"m-0"},"Plan With Confidence"),t("h2",null,"Execute With Efficiency"),t("div",{class:"w-15"},[t("p",null,"The best way to handle your day to day business, in an easy to use interface.")])])],-1)),Uc=Ee('<div class="row" data-v-a720af68><div class="col-12 text-center mt-3" data-v-a720af68><h3 class="text-primary" data-v-a720af68>Organize Your Business&#39;s Logistics</h3></div><div class="col-md-4 text-center mt-md-3 mt-5 p-4" data-v-a720af68><h1 data-v-a720af68><i class="mdi mdi-map-marker" data-v-a720af68></i></h1><p class="mt-5" data-v-a720af68>Map out jobSites, all while keeping employees in the loop</p></div><div class="col-md-4 text-center mt-2 p-4" data-v-a720af68><h1 data-v-a720af68><i class="mdi mdi-account-group" data-v-a720af68></i></h1><p class="mt-5" data-v-a720af68>Collaborate with employees and track their tasks as they are completed</p></div><div class="col-md-4 text-center mt-2 p-4" data-v-a720af68><h1 data-v-a720af68><i class="mdi mdi-check-bold" data-v-a720af68></i></h1><p class="mt-5" data-v-a720af68>Keep both employees and clients up to date on the progress of jobs</p></div></div><div class="row" data-v-a720af68><div class="col-md-12 d-flex justify-content-center" data-v-a720af68><h3 class="text-primary" data-v-a720af68>Don&#39;t take our word for it...</h3></div><div class="col-md-4" data-v-a720af68><div data-v-a720af68><div id="carouselExampleInterval" class="carousel slide carousel-fade" data-bs-ride="carousel" data-v-a720af68><div class="carousel-inner" data-v-a720af68><div class="carousel-item active" data-bs-interval="3000" data-v-a720af68><img src="https://images.unsplash.com/photo-1581141849291-1125c7b692b5?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=733&amp;q=80" class="d-block w-100 user-picture" alt="..." data-v-a720af68></div><div class="carousel-item" data-bs-interval="3000" data-v-a720af68><img src="https://images.unsplash.com/photo-1597476817120-9b82cef5ce82?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=735&amp;q=80" class="d-block w-100 user-picture" alt="..." data-v-a720af68></div><div class="carousel-item" data-v-a720af68><img src="https://images.unsplash.com/photo-1621905252472-943afaa20e20?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1976&amp;q=80" class="d-block w-100 user-picture" alt="..." data-v-a720af68></div></div><button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="prev" data-v-a720af68><span class="carousel-control-prev-icon" aria-hidden="true" data-v-a720af68></span><span class="visually-hidden" data-v-a720af68>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="next" data-v-a720af68><span class="carousel-control-next-icon" aria-hidden="true" data-v-a720af68></span><span class="visually-hidden" data-v-a720af68>Next</span></button></div></div></div><div class="col-md-8 d-flex flex-column mt-5 justify-content-around" data-v-a720af68><div class="user-quote my-2" data-v-a720af68><h4 data-v-a720af68>Jack Jameson <span class="position" data-v-a720af68> Project Manager (Spring Lawn Care)</span></h4><p class="text-muted mt-4 mx-4" data-v-a720af68>I use OnTracker way too much. It&#39;s insane.</p></div><div class="user-quote my-2" data-v-a720af68><h4 data-v-a720af68>Jamie Jackson<span class="position" data-v-a720af68> Vice President (Jackson Construction)</span></h4><p class="text-muted mt-4 mx-4" data-v-a720af68>Using OnTracker has revolutionized the way that my company works. I couldn&#39;t say enough good things about it.</p></div><div class="user-quote my-2" data-v-a720af68><h4 data-v-a720af68>Jason Jeremiah<span class="position" data-v-a720af68> CEO (TrackOnner)</span></h4><p class="text-muted mt-4 mx-4" data-v-a720af68>I literally have withdrawls from OnTracker.</p></div></div></div>',2),Rc={class:"row"},Hc=W(()=>t("div",{class:"col-md-12 d-flex justify-content-center mt-3"},[t("h3",{class:"text-primary"},"Join Our Family of Supported Businesses")],-1)),Gc={class:"col-md-12"},Jc={class:"businesses-container p-2 m-3 bg-primary rounded"},Wc=["src"],Yc={key:1,class:"d-flex align-items-center d-md-none"},Fc=["src"],Kc={class:"text-center justify-self-center mx-2"},Qc=["src"],Zc={key:3,class:"d-flex align-items-center"},Xc=["src"],ei={class:"text-center justify-self-center mx-2"},ti={class:"row"},oi=W(()=>t("div",{class:"col-md-6"},[t("div",{class:"mx-3 bg-light rounded p-2 my-5"},[t("h3",{class:"text-center"},"Why Plan with Us"),t("p",{class:"text-muted"},[E("- Completely Free, Always "),t("br"),E("- 24/7 Customer Support "),t("br"),E("- Access to the Network of Businesses Who Utilize OnTracker "),t("br"),E("- Guaranteed ROI "),t("br"),E("- Proven Increase In Productivity")])])],-1)),si={class:"col-md-6 d-flex flex-column align-items-center"},ai=W(()=>t("h3",{class:"text-primary my-md-5"},"Join Now!",-1));function ni(a,e,o,s,i,l){return d(),u("div",Nc,[t("div",Oc,[t("div",Vc,[t("img",{class:"img-fluid login-logo p-2",src:s.logo,alt:""},null,8,zc),t("button",{class:"btn btn-outline-primary p-0 px-4 h-50 align-self-center",onClick:e[0]||(e[0]=(...c)=>s.launchLogin&&s.launchLogin(...c))},"login")]),qc]),Uc,t("div",Rc,[Hc,t("div",Gc,[t("div",Jc,[s.businesses.length<=3?(d(!0),u(y,{key:0},S(s.businesses,c=>(d(),u("img",{key:c.id,src:c.logo,alt:"",class:"d-md-none"},null,8,Wc))),128)):h("",!0),s.businesses.length>=4?(d(),u("div",Yc,[(d(!0),u(y,null,S(s.businesses,(c,r)=>(d(),u(y,{key:c.id},[r<3?(d(),u("img",{key:0,src:c.logo,alt:"",class:"d-md-none"},null,8,Fc)):h("",!0)],64))),128)),t("p",Kc,"And "+p(s.calculateBusinessesRemaining(3))+" more!",1)])):h("",!0),s.businesses.length<=15?(d(!0),u(y,{key:2},S(s.businesses,c=>(d(),u("img",{key:c.id,src:c.logo,alt:"",class:"d-none d-md-inline-block"},null,8,Qc))),128)):h("",!0),s.businesses.length>=16?(d(),u("div",Zc,[(d(!0),u(y,null,S(s.businesses,(c,r)=>(d(),u(y,{key:c.id},[r<15?(d(),u("img",{key:0,src:c.logo,alt:"",class:"d-none d-md-inline-block"},null,8,Xc)):h("",!0)],64))),128)),t("p",ei,"And "+p(s.calculateBusinessesRemaining(16))+" more!",1)])):h("",!0)])])]),t("div",ti,[oi,t("div",si,[ai,t("button",{onClick:e[1]||(e[1]=(...c)=>s.launchLogin&&s.launchLogin(...c)),class:"btn btn-outline-primary mb-md-none mb-5"},"Login/ Signup")])])])}var ci=v(Bc,[["render",ni],["__scopeId","data-v-a720af68"]]),ii=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ci});function ri(a){Object.entries({"./components/ActiveEmployee.vue":nt,"./components/ActiveProject.vue":$t,"./components/ActiveProjectMobile.vue":At,"./components/AvailableEmployees.vue":qt,"./components/AvailableEmployeesOffCanvas.vue":Ft,"./components/CreateProjectModal.vue":wo,"./components/EditProject.vue":Wo,"./components/EmployeeCard.vue":rs,"./components/EmployeeModal.vue":ws,"./components/EmployeeNavbar.vue":Ps,"./components/Login.vue":Ks,"./components/MapComponent.vue":ta,"./components/Modal.vue":ma,"./components/Navbar.vue":Aa,"./components/ProfileCard.vue":Ha,"./components/ProfileDetails.vue":kn,"./components/Project.vue":Ln,"./components/ProjectCardSmall.vue":Vn,"./components/ProjectImage.vue":Hn,"./components/ProjectNotes.vue":Xn,"./components/ProjectProgressBar.vue":cc,"./components/Task.vue":fc,"./components/TaskOffCanvas.vue":Ac,"./components/TeamMembers.vue":Dc,"./components/UserLogin.vue":ii}).forEach(([o,s])=>{const i=s.name||o.substr(o.lastIndexOf("/")+1).replace(/\.\w+$/,"");a.component(i,s.default)})}const ye=Se(Le);ri(ye);ye.use(te).mount("#app");export{n as A,ea as M,f as P,H as a,ee as b,D as c,be as d,O as e,m as l,pe as n,R as p,te as r,U as t};
